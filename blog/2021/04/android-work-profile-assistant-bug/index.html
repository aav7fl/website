<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#3d256d">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#3d256d">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="/favicon.ico">
    
      
        <link rel="amphtml" href="https://www.kyleniewiada.org/amp/blog/2021/04/android-work-profile-assistant-bug/" data-proofer-ignore>
      
    

    <!-- Messy way to capture custom page title to replace SEO Tags -->
    
    
    <title>Fixing the Google Assistant on My Android Work Profile</title>
    <meta property="og:title" content="Fixing the Google Assistant on My Android Work Profile" />

    <!-- Come and get me RSS readers -->
    <link type="application/atom+xml" rel="alternate" href="https://www.kyleniewiada.org/feed.xml" title="Kyle Niewiada&apos;s Website" />

    <!-- Critical Stylesheet -->
    <style type="text/css">
      
      @font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url("/assets/fonts/open-sans-v17-latin-300.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-300.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url("/assets/fonts/open-sans-v17-latin-regular.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-regular.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:600;src:local("Open Sans Semibold"),local("OpenSans-Semibold"),url("/assets/fonts/open-sans-v17-latin-600.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-600.woff") format("woff")}.page-title{text-align:left;font-size:200%;line-height:1.2;font-weight:normal}@media(min-width: 600px){.page-title{font-size:250%}}@media(min-width: 1000px){.page-title{font-size:300%}}.meta{color:dimgray;font-weight:300;font-size:120%}@media(min-width: 600px){.meta{font-size:130%}}@media(min-width: 1000px){.meta{font-size:140%}}.sub-meta{color:dimgray;font-weight:300;font-size:100%}@media(min-width: 600px){.sub-meta{font-size:110%}}@media(min-width: 1000px){.sub-meta{font-size:120%}}a.meta{text-align:center;display:block}.title-meta{overflow:auto;color:dimgray;font-size:100%}h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6{margin:0 0 .5rem;font-weight:600}a{color:#3d256d}a:hover{color:hsl(260,49.3150684932%,13.6274509804%)}code,pre{border-radius:.2em;background-color:#f5f5f5;border:.1em solid #d3d3d3}code{padding:2px 4px;color:#902f74}pre{padding:16px;overflow-y:hidden}pre code{color:inherit;background-color:rgba(0,0,0,0);padding:0;border:0}h1 .octicon,h2 .octicon,h3 .octicon,h4 .octicon,h5 .octicon,h6 .octicon{visibility:hidden}h1:hover .octicon,h2:hover .octicon,h3:hover .octicon,h4:hover .octicon,h5:hover .octicon,h6:hover .octicon{visibility:visible}.octicon{fill:currentColor;padding:0;vertical-align:middle}body{margin:0}body,p,li,ul,input,textarea{font-size:1em;line-height:1.58;color:#111;font-family:"Open Sans",Helvetica,Arial,sans-serif;overflow-wrap:break-word}img,video,audio,iframe,object{max-width:100%}main{display:block}.line-separator{height:2px;background:#d3d3d3;margin-top:16px;margin-bottom:16px}.clearfix:after{content:"";display:block;clear:both}.content{max-width:700px;margin-right:auto;margin-left:auto;padding:0 16px}.content img{display:block;margin-left:auto;margin-right:auto}.content video{display:block;margin-left:auto;margin-right:auto}.no-list{list-style:none;padding-left:0;margin-left:0}.left{float:left}.right{float:right}.post-list li{margin-bottom:4em;position:relative}.post-list li:before{content:"";position:absolute;bottom:-2em;left:0;background:hsl(0,0%,90%);height:2px;width:60px}.post-list li a{text-decoration:none}.post-list li a:hover{text-decoration:underline}.post-list li .date{color:dimgray;font-size:.8em}.header{background-image:url("/assets/img/banner.svg");background-color:#3a3a3a;background-size:cover;background-position:center center;padding:0;height:auto;margin-bottom:16px}.header .navigation{background:#262626}.header .nav-container{max-width:1000px;margin:0 auto}@media(min-width: 600px){.header{min-height:10em;position:relative;margin-bottom:16px}}nav{height:70px;overflow:hidden}nav ul{margin:0;padding:0;list-style-type:none;max-height:140px;position:relative}nav ul .active{background:#3d256d}nav li{display:inline-block;padding:0}nav a{display:inline-block;padding:0 1em;color:#fff;text-decoration:none;white-space:nowrap;line-height:70px;height:70px}nav a:hover{color:#fff;background-color:#00b2d9}nav li:first-child{left:0;vertical-align:top;font-size:75%}nav li:first-child :hover{color:#fff;background-color:#262626}@media(min-width: 330px){nav li:first-child{font-size:100%}}@media(min-width: 400px){nav li:first-child{font-size:140%}}nav li:last-child{position:absolute;right:0;bottom:70px;background-image:linear-gradient(to right, rgba(38, 38, 38, 0) 0, #262626 2em);padding-left:3em}nav li:nth-last-child(2){display:none}nav#menu:target{height:auto;padding:0}nav#menu:target ul{max-height:none}nav#menu:target li{display:block}nav#menu:target a{display:block;background-color:hsla(0,0%,100%,.05)}nav#menu:target li:not(:first-child){margin-top:2px}nav#menu:target li:not(:first-child) a:hover{background-color:#00b2d9}nav#menu:target li:last-child{display:none}nav#menu:target li:nth-last-child(2){display:inline-block;position:absolute;top:0;right:0;margin:0;border-left:2px solid #262626;background:#3a3a3a}
      
    </style>

    <!-- Contain all special checks needed on AMP pages. Attempt to consolidate checks. -->


  
  <!-- Extract extra <title> tag. -->
  
  
  
  

  
  
  
  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->

<meta name="generator" content="Jekyll v4.4.1" />

<meta name="author" content="Kyle Niewiada" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to bypass a bug and set the default assistant app to the Google Assistant on an Android work profile." />
<meta property="og:description" content="How to bypass a bug and set the default assistant app to the Google Assistant on an Android work profile." />
<link rel="canonical" href="https://www.kyleniewiada.org/blog/2021/04/android-work-profile-assistant-bug/" />
<meta property="og:url" content="https://www.kyleniewiada.org/blog/2021/04/android-work-profile-assistant-bug/" />
<meta property="og:site_name" content="Kyle Niewiada’s Website" />
<meta property="og:image" content="https://www.kyleniewiada.org/assets/img/2021/04/banner.png" />
<meta property="og:image:height" content="600" />
<meta property="og:image:width" content="800" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-10T17:13:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.kyleniewiada.org/assets/img/2021/04/banner.png" />
<meta property="twitter:title" content="Fixing the Google Assistant on My Android Work Profile" />
<meta name="twitter:site" content="@CrypticCitrus" />
<meta name="twitter:creator" content="@CrypticCitrus" />
<meta property="fb:app_id" content="137961485759" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kyle Niewiada"},"dateModified":"2021-04-10T17:13:00-04:00","datePublished":"2021-04-10T17:13:00-04:00","description":"How to bypass a bug and set the default assistant app to the Google Assistant on an Android work profile.","headline":"Fixing the Google Assistant on My Android Work Profile","image":{"height":600,"width":800,"url":"https://www.kyleniewiada.org/assets/img/2021/04/banner.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.kyleniewiada.org/blog/2021/04/android-work-profile-assistant-bug/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.kyleniewiada.org/assets/img/logo.png"},"name":"Kyle Niewiada"},"url":"https://www.kyleniewiada.org/blog/2021/04/android-work-profile-assistant-bug/"}</script>
<!-- End Jekyll SEO tag -->

  



     <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZP46JK222K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZP46JK222K');
</script> 
</head>


  <body>
  <!-- start header -->
<header class="header">
  <div class="navigation">
    <div class="nav-container">
      <nav id="menu">
        <ul class="menu-closed">
          
            
            <li class="normal"><a href="/">Kyle Niewiada</a></li>
          
            
            <li class="normal"><a href="/">Home</a></li>
          
            
            <li class="normal"><a href="/about/">About</a></li>
          
            
            <li class="normal"><a href="/archive/">Archive</a></li>
          
            
            <li class="normal"><a href="/contact/">Contact</a></li>
          
            
            <li class="normal"><a href="/resume/">Résumé</a></li>
          
          <li><a href="#">&#215; Close menu</a></li>
          <li><a href="#menu">&#9776; Menu</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>
<!-- end header -->

    <main class="content">
    <!-- lazy way to hide page title on blog posts -->
    

    <article>
  <header>
    <h1 class="page-title">Fixing the Google Assistant on My Android Work Profile</h1>

    <h2 class="meta">Kyle Niewiada on April 10, 2021</h2>

    <h3 class="meta">
      
      5 Minute Read
       | Guide</h3>
  </header>

  
  <h4 class="sub-meta">Updated on April 22, 2022</h4>
    

  
  <img src="/assets/img/2021/04/banner.png" alt="Launching the Google Assistant in the Android work profile" />
  

  <div class="line-separator"></div>

  <p>One of the products I develop for at work is a digital assistant for food service operations. Our voice component of the digital assistant is deployed to Google Assistant compatible devices through Actions on Google. To aid in my work I use a personal Android device to test our product.</p>

<p>In the last few months I have run into conflicts using the Google Assistant on my device’s work profile. For the uninitiated, the Android work profile is a separate space on the device dedicated to walling off the areas between personal apps and work apps. Since my work developer account is tied to the company organization, it encourages me to use a work profile when using the account on my device.</p>
<h2 id="problematic-assistant">
  
  
    Problematic Assistant <a href="#problematic-assistant" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>The problem is that while using the work profile, the <code class="language-plaintext highlighter-rouge">Default digital assistant app</code> can’t be set. Worse, the <code class="language-plaintext highlighter-rouge">Voice input</code> can’t be changed back to <code class="language-plaintext highlighter-rouge">Google</code> if accidentally switched away since it’s “un-selectable”.</p>

<p><img src="/assets/img/2021/04/SelectDigitalAssistantApp.png" alt="Screen showing how the user is unable to change the Default Assistant voice input after changing it in the work profile" /><em>Unable to revert the voice input after changed</em></p>

<p>If the <code class="language-plaintext highlighter-rouge">Voice input</code> isn’t set to <code class="language-plaintext highlighter-rouge">Google</code> in the screenshot above, the work profile will fail to launch the Google Assistant.</p>

<p>Even worse, if the user tries to tap on <code class="language-plaintext highlighter-rouge">Default digital assistant app</code> to switch it from <code class="language-plaintext highlighter-rouge">None</code>, the screen will quickly navigate the user to <code class="language-plaintext highlighter-rouge">com.google.android.permissioncontroller</code>/<code class="language-plaintext highlighter-rouge">Permission Controller</code> and immediately return.</p>

<!-- Method to implement AMP-Video. -->

<video width="300" controls="" autoplay="" loop="">
  <source src="/assets/files/2021/04/UnableToSetAssistant.mp4" type="video/mp4" />
  <p>Your browser doesn't support HTML5 video</p>
</video>

<p>My theory is that there is a permission that can’t be prompted to the user under the work profile causing it to crash.</p>
<h2 id="secondary-bug">
  
  
    Secondary Bug <a href="#secondary-bug" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>On a side note, sometimes while using the work profile the user will be shown <code class="language-plaintext highlighter-rouge">The Google App isn't your default Assist App.</code> on certain screens. I believe this bug can be resolved by disconnecting the Google app between the work profile and personal profile as shown below. This can be found under the <code class="language-plaintext highlighter-rouge">Advanced settings</code> section of the work profile Google app info page.</p>

<p><img src="/assets/img/2021/04/DefaultAssistApp.png" alt="Screen showing an error about the default digital assistant when trying to train their voice in the work profile" /><em>The Google App isn’t your default Assist App</em></p>
<h2 id="solution">
  
  
    Solution <a href="#solution" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>Luckily, there’s a solution to launching the Google Assistant in the work profile. We do this by manually changing the secure settings on our device’s work profile to use <code class="language-plaintext highlighter-rouge">Google</code> as the <code class="language-plaintext highlighter-rouge">Voice input</code> for the digital assistant.</p>
<h3 id="requirements-that-i-know-of">
  
  
    Requirements (that I know of?): <a href="#requirements-that-i-know-of" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<ul>
  <li><a href="https://play.google.com/store/apps/details?id=com.google.android.apps.googleassistant">Google Assistant</a> is installed on the Android work profile</li>
  <li>ADB (Android Debug Bridge) is setup and connected to the device</li>
  <li>The <code class="language-plaintext highlighter-rouge">Default Assistant App</code> on your <em>personal</em> profile is the Google Assistant. We need this set to extract the correct <code class="language-plaintext highlighter-rouge">voice_interaction_service</code> from our personal profile.</li>
</ul>

<blockquote>
  <p>It probably doesn’t hurt to keep the assistant the same between the personal and work profiles to reduce complications between the two spaces. But it’s not clear if that’s a requirement going forward.</p>
</blockquote>
<h3 id="steps">
  
  
    Steps <a href="#steps" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<blockquote>
  <p>Before we get started, I later learned how to fix this using only <code class="language-plaintext highlighter-rouge">adb</code> by issuing the following two commands. One sets the default assistant setting, and the other seting the voice interaction service to use the Google Assistant. It’s set to run under <code class="language-plaintext highlighter-rouge">user 10</code>, which is my work profile.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```bash
➜  ~ adb shell settings put --user 10 secure assistant com.google.android.googlequicksearchbox/com.google.android.voiceinteraction.GsaVoiceInteractionService
➜  ~ adb shell settings put --user 10 secure voice_interaction_service com.google.android.googlequicksearchbox/com.google.android.voiceinteraction.GsaVoiceInteractionService
```
</code></pre></div></div>

<ol>
  <li>
    <p>First we find out the <code class="language-plaintext highlighter-rouge">user</code> id of the work profile. Here I can see that it’s <code class="language-plaintext highlighter-rouge">10</code>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ➜  ~ adb shell pm list <span class="nb">users

 </span>Users:
   UserInfo<span class="o">{</span>0:Kyle:c13<span class="o">}</span> running
   UserInfo<span class="o">{</span>10:Work profile:1030<span class="o">}</span> running
</code></pre></div>    </div>
  </li>
  <li>
    <p>Next grab the value for the <code class="language-plaintext highlighter-rouge">voice_interaction_service</code> from the <em>personal</em> profile. I included this step in the event Google changes the value in the future.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ➜  ~ adb shell settings get <span class="nt">--user</span> 0 secure voice_interaction_service

 com.google.android.googlequicksearchbox/com.google.android.voiceinteraction.GsaVoiceInteractionService
</code></pre></div>    </div>

    <blockquote>
      <p>If I try to grab the <code class="language-plaintext highlighter-rouge">voice_interaction_service</code> value from my work profile, I can’t see anything because <code class="language-plaintext highlighter-rouge">shell</code> access is forbidden.</p>
    </blockquote>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ➜  ~ adb shell settings get <span class="nt">--user</span> 10 secure voice_interaction_service

 Exception occurred <span class="k">while </span>executing <span class="s1">'get'</span>:
 java.lang.SecurityException: Shell does not have permission to access user 10
 com.android.server.am.ActivityManagerService.handleIncomingUser:15083 android.app.ActivityManager.handleIncomingUser:4290 com.android.providers.settings.SettingsProvider.resolveCallingUserIdEnforcingPermissionsLocked:2162
</code></pre></div>    </div>

    <p>Now that we have the value for <code class="language-plaintext highlighter-rouge">voice_interaction_service</code>, we need to write it back to our work profile.</p>

    <p>Since the work profile on my device restricts sideloading APKs and shell access, I need an app that can edit the <code class="language-plaintext highlighter-rouge">Settings Database</code> on my behalf. I chose <a href="https://play.google.com/store/apps/details?id=by4a.setedit22">SetEdit</a>.</p>

    <blockquote>
      <p>Make sure you install the app to your device using your <em>work profile</em> or you won’t be able to change the correct setting.</p>
    </blockquote>
  </li>
  <li>
    <p>Grant <code class="language-plaintext highlighter-rouge">WRITE_SECURE_SETTINGS</code> permissions to the app.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ➜  ~ adb shell pm grant <span class="nt">--user</span> 10 by4a.setedit22 android.permission.WRITE_SECURE_SETTINGS
</code></pre></div>    </div>
  </li>
  <li>
    <p>Open up the <code class="language-plaintext highlighter-rouge">SetEdit</code> app on the device.</p>
  </li>
  <li>
    <p>Under the <code class="language-plaintext highlighter-rouge">Secure Table</code>, find the <code class="language-plaintext highlighter-rouge">voice_interaction_service</code> key and update the value grabbed by the personal profile earlier. In my case it is:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> com.google.android.googlequicksearchbox/com.google.android.voiceinteraction.GsaVoiceInteractionService
</code></pre></div>    </div>

    <p><img src="/assets/img/2021/04/SetEditVoiceInput.png" alt="Updating the voice_interaction_service value with SetEdit" /><em>Updating the <code class="language-plaintext highlighter-rouge">voice_interaction_service</code> with SetEdit</em></p>
  </li>
  <li>
    <p>Under the <code class="language-plaintext highlighter-rouge">Secure Table</code>, find (or create) the <code class="language-plaintext highlighter-rouge">assistant</code> key and update the value to:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com.google.android.googlequicksearchbox/com.google.android.voiceinteraction.GsaVoiceInteractionService
</code></pre></div>    </div>
  </li>
  <li>
    <p>The result should be instantaneous. Go ahead and open up the Google Assistant app in the work profile via its app icon. It should now load!</p>

    <p><img src="/assets/img/2021/04/GoogleAssistantWorkProfile.png" alt="Google Assistant launching on the work profile" /><em>Google Assistant launching on the work profile</em></p>
  </li>
</ol>
<h2 id="conclusion">
  
  
    Conclusion <a href="#conclusion" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>The work profile on Android is a neat idea. Separating the user spaces to keep data apart is a cool concept to protect a user’s privacy. However, sometimes the system level apps have trouble in this separate space. Especially when they rely on API/Screen calls that aren’t <em>quite</em> available.</p>

<p>I hope Google resolves this issue in the future as it’s a very annoying bug. Until then, this should serve as a guide to help other users fix their Google Assistant in the work profile.</p>

  <div class="line-separator"></div>

  <!-- POST NAVIGATION -->
<div class="post-nav">
  
    <a class="post-nav-link" href="/blog/2020/09/dryer-notification-addendum/">
    <div class="link-text previous">&laquo;&nbsp;Electric Dryer Monitoring with a CT Clamp</div>
    
      <img class="link-image" src="/assets/img/2020/09/CircuitSetup_Split_Single_Phase_Energy_Meter.jpg" alt="Previous Article">
    
    </a>
  
  
    <a class="post-nav-link" href="/blog/2021/10/affordable-water-leak-and-temp-monitoring/">
    <div class="link-text next">Affordable Leak Detection and Temperature Monitoring in Home Assistant&nbsp;&raquo;</div>
    
      <img class="link-image" src="/assets/img/2021/10/banner.jpg" alt="Next Article">
    
    </a>
  
</div>

</article>


    
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'kyleniewiada'; // required: replace example with your forum shortname
  var disqus_identifier = "/blog/2021/04/android-work-profile-assistant-bug/";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </main>
  <!-- start footer -->
<footer class="content">
  <div class="flex-list">
  <ul>
  
    <li>
      <a href="https://www.linkedin.com/in/kyleniewiada/" >LinkedIn</a>
    </li>
  
    <li>
      <a href="https://github.com/aav7fl" >GitHub</a>
    </li>
  
    <li>
      <a href="https://bsky.app/profile/crypticcitrus.bsky.social" >Bluesky</a>
    </li>
  
    <li>
      <a href="https://www.youtube.com/user/KyleNiewiada" >YouTube</a>
    </li>
  
    <li>
      <a href="https://kyleniewiada.bandcamp.com/" rel='nofollow'>BandCamp</a>
    </li>
  
    <li>
      <a href="/sitemap/" >Sitemap</a>
    </li>
  
  </ul>
</div>

</footer>
<!-- start noncritical style -->
<link rel="preload" href="/assets/css/noncritical.css" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/assets/css/noncritical.css"></noscript>
<script>
  /*loadCss*/
  !function(w){"use strict";var loadCSS=function(href,before,media){function ready(cb){return doc.body?cb():void setTimeout(function(){ready(cb)})}function loadCB(){ss.addEventListener&&ss.removeEventListener("load",loadCB),ss.media=media||"all"}var ref,doc=w.document,ss=doc.createElement("link");if(before)ref=before;else{var refs=(doc.body||doc.getElementsByTagName("head")[0]).childNodes;ref=refs[refs.length-1]}var sheets=doc.styleSheets;ss.rel="stylesheet",ss.href=href,ss.media="only x",ready(function(){ref.parentNode.insertBefore(ss,before?ref:ref.nextSibling)});var onloadcssdefined=function(cb){for(var resolvedHref=ss.href,i=sheets.length;i--;)if(sheets[i].href===resolvedHref)return cb();setTimeout(function(){onloadcssdefined(cb)})};return ss.addEventListener&&ss.addEventListener("load",loadCB),ss.onloadcssdefined=onloadcssdefined,onloadcssdefined(loadCB),ss};"undefined"!=typeof exports?exports.loadCSS=loadCSS:w.loadCSS=loadCSS}("undefined"!=typeof global?global:this);

  /*link[rel=preload] polyfill*/
  !function(w){if(w.loadCSS){var rp=loadCSS.relpreload={};if(rp.support=function(){try{return w.document.createElement("link").relList.supports("preload")}catch(e){return!1}},rp.poly=function(){for(var links=w.document.getElementsByTagName("link"),i=0;i<links.length;i++){var link=links[i];"preload"===link.rel&&"style"===link.getAttribute("as")&&(w.loadCSS(link.href,link),link.rel=null)}},!rp.support()){rp.poly();var run=w.setInterval(rp.poly,300);w.addEventListener&&w.addEventListener("load",function(){w.clearInterval(run)}),w.attachEvent&&w.attachEvent("onload",function(){w.clearInterval(run)})}}}(this);
</script>
<!-- end noncritical style -->
<!-- end footer -->

  </body>
</html>
