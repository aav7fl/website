<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#3d256d">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#3d256d">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="shortcut icon" href="/favicon.ico">
    
      
        <link rel="amphtml" href="https://www.kyleniewiada.org/amp/blog/2025/02/building-my-smart-coaster/" data-proofer-ignore>
      
    

    <!-- Messy way to capture custom page title to replace SEO Tags -->
    
    
    <title>The Smart Coaster That Keeps Me Hydrated</title>
    <meta property="og:title" content="The Smart Coaster That Keeps Me Hydrated" />

    <!-- Come and get me RSS readers -->
    <link type="application/atom+xml" rel="alternate" href="https://www.kyleniewiada.org/feed.xml" title="Kyle Niewiada&apos;s Website" />

    <!-- Critical Stylesheet -->
    <style type="text/css">
      
      @font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url("/assets/fonts/open-sans-v17-latin-300.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-300.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url("/assets/fonts/open-sans-v17-latin-regular.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-regular.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:600;src:local("Open Sans Semibold"),local("OpenSans-Semibold"),url("/assets/fonts/open-sans-v17-latin-600.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-600.woff") format("woff")}.page-title{text-align:left;font-size:200%;line-height:1.2;font-weight:normal}@media(min-width: 600px){.page-title{font-size:250%}}@media(min-width: 1000px){.page-title{font-size:300%}}.meta{color:dimgray;font-weight:300;font-size:120%}@media(min-width: 600px){.meta{font-size:130%}}@media(min-width: 1000px){.meta{font-size:140%}}.sub-meta{color:dimgray;font-weight:300;font-size:100%}@media(min-width: 600px){.sub-meta{font-size:110%}}@media(min-width: 1000px){.sub-meta{font-size:120%}}a.meta{text-align:center;display:block}.title-meta{overflow:auto;color:dimgray;font-size:100%}h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6{margin:0 0 .5rem;font-weight:600}a{color:#3d256d}a:hover{color:hsl(260,49.3150684932%,13.6274509804%)}code,pre{border-radius:.2em;background-color:#f5f5f5;border:.1em solid #d3d3d3}code{padding:2px 4px;color:#902f74}pre{padding:16px;overflow-y:hidden}pre code{color:inherit;background-color:rgba(0,0,0,0);padding:0;border:0}h1 .octicon,h2 .octicon,h3 .octicon,h4 .octicon,h5 .octicon,h6 .octicon{visibility:hidden}h1:hover .octicon,h2:hover .octicon,h3:hover .octicon,h4:hover .octicon,h5:hover .octicon,h6:hover .octicon{visibility:visible}.octicon{fill:currentColor;padding:0;vertical-align:middle}body{margin:0}body,p,li,ul,input,textarea{font-size:1em;line-height:1.58;color:#111;font-family:"Open Sans",Helvetica,Arial,sans-serif;overflow-wrap:break-word}img,video,audio,iframe,object{max-width:100%}main{display:block}.line-separator{height:2px;background:#d3d3d3;margin-top:16px;margin-bottom:16px}.clearfix:after{content:"";display:block;clear:both}.content{max-width:700px;margin-right:auto;margin-left:auto;padding:0 16px}.content img{display:block;margin-left:auto;margin-right:auto}.content video{display:block;margin-left:auto;margin-right:auto}.no-list{list-style:none;padding-left:0;margin-left:0}.left{float:left}.right{float:right}.post-list li{margin-bottom:4em;position:relative}.post-list li:before{content:"";position:absolute;bottom:-2em;left:0;background:hsl(0,0%,90%);height:2px;width:60px}.post-list li a{text-decoration:none}.post-list li a:hover{text-decoration:underline}.post-list li .date{color:dimgray;font-size:.8em}.header{background-image:url("/assets/img/banner.svg");background-color:#3a3a3a;background-size:cover;background-position:center center;padding:0;height:auto;margin-bottom:16px}.header .navigation{background:#262626}.header .nav-container{max-width:1000px;margin:0 auto}@media(min-width: 600px){.header{min-height:10em;position:relative;margin-bottom:16px}}nav{height:70px;overflow:hidden}nav ul{margin:0;padding:0;list-style-type:none;max-height:140px;position:relative}nav ul .active{background:#3d256d}nav li{display:inline-block;padding:0}nav a{display:inline-block;padding:0 1em;color:#fff;text-decoration:none;white-space:nowrap;line-height:70px;height:70px}nav a:hover{color:#fff;background-color:#00b2d9}nav li:first-child{left:0;vertical-align:top;font-size:75%}nav li:first-child :hover{color:#fff;background-color:#262626}@media(min-width: 330px){nav li:first-child{font-size:100%}}@media(min-width: 400px){nav li:first-child{font-size:140%}}nav li:last-child{position:absolute;right:0;bottom:70px;background-image:linear-gradient(to right, rgba(38, 38, 38, 0) 0, #262626 2em);padding-left:3em}nav li:nth-last-child(2){display:none}nav#menu:target{height:auto;padding:0}nav#menu:target ul{max-height:none}nav#menu:target li{display:block}nav#menu:target a{display:block;background-color:hsla(0,0%,100%,.05)}nav#menu:target li:not(:first-child){margin-top:2px}nav#menu:target li:not(:first-child) a:hover{background-color:#00b2d9}nav#menu:target li:last-child{display:none}nav#menu:target li:nth-last-child(2){display:inline-block;position:absolute;top:0;right:0;margin:0;border-left:2px solid #262626;background:#3a3a3a}
      
    </style>

    <!-- Contain all special checks needed on AMP pages. Attempt to consolidate checks. -->


  
  <!-- Extract extra <title> tag. -->
  
  
  
  

  
  
  
  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->

<meta name="generator" content="Jekyll v4.4.1" />

<meta name="author" content="Kyle Niewiada" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Forget smart water bottles! I created a ‚Äòtemporarily permanent‚Äô smart coaster to solve my dehydration woes. If I‚Äôve lost track, my coaster nudges me to drink water, and refrains when I‚Äôve kept up." />
<meta property="og:description" content="Forget smart water bottles! I created a ‚Äòtemporarily permanent‚Äô smart coaster to solve my dehydration woes. If I‚Äôve lost track, my coaster nudges me to drink water, and refrains when I‚Äôve kept up." />
<link rel="canonical" href="https://www.kyleniewiada.org/blog/2025/02/building-my-smart-coaster/" />
<meta property="og:url" content="https://www.kyleniewiada.org/blog/2025/02/building-my-smart-coaster/" />
<meta property="og:site_name" content="Kyle Niewiada‚Äôs Website" />
<meta property="og:image" content="https://www.kyleniewiada.org/assets/img/2025/02/smart_coaster_v3_front.jpg" />
<meta property="og:image:height" content="602" />
<meta property="og:image:width" content="800" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-02-23T20:01:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.kyleniewiada.org/assets/img/2025/02/smart_coaster_v3_front.jpg" />
<meta property="twitter:title" content="The Smart Coaster That Keeps Me Hydrated" />
<meta name="twitter:site" content="@CrypticCitrus" />
<meta name="twitter:creator" content="@CrypticCitrus" />
<meta property="fb:app_id" content="137961485759" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kyle Niewiada"},"dateModified":"2025-02-23T20:01:00-05:00","datePublished":"2025-02-23T20:01:00-05:00","description":"Forget smart water bottles! I created a ‚Äòtemporarily permanent‚Äô smart coaster to solve my dehydration woes. If I‚Äôve lost track, my coaster nudges me to drink water, and refrains when I‚Äôve kept up.","headline":"The Smart Coaster That Keeps Me Hydrated","image":{"height":602,"width":800,"url":"https://www.kyleniewiada.org/assets/img/2025/02/smart_coaster_v3_front.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.kyleniewiada.org/blog/2025/02/building-my-smart-coaster/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.kyleniewiada.org/assets/img/logo.png"},"name":"Kyle Niewiada"},"url":"https://www.kyleniewiada.org/blog/2025/02/building-my-smart-coaster/"}</script>
<!-- End Jekyll SEO tag -->

  



     <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZP46JK222K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZP46JK222K');
</script> 
</head>


  <body>
  <!-- start header -->
<header class="header">
  <div class="navigation">
    <div class="nav-container">
      <nav id="menu">
        <ul class="menu-closed">
          
            
            <li class="normal"><a href="/">Kyle Niewiada</a></li>
          
            
            <li class="normal"><a href="/">Home</a></li>
          
            
            <li class="normal"><a href="/about/">About</a></li>
          
            
            <li class="normal"><a href="/archive/">Archive</a></li>
          
            
            <li class="normal"><a href="/contact/">Contact</a></li>
          
            
            <li class="normal"><a href="/resume/">R√©sum√©</a></li>
          
          <li><a href="#">&#215; Close menu</a></li>
          <li><a href="#menu">&#9776; Menu</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>
<!-- end header -->

    <main class="content">
    <!-- lazy way to hide page title on blog posts -->
    

    <article>
  <header>
    <h1 class="page-title">The Smart Coaster That Keeps Me Hydrated</h1>

    <h2 class="meta">Kyle Niewiada on February 23, 2025</h2>

    <h3 class="meta">
      
      24 Minute Read
       | Small project</h3>
  </header>

  
  <h4 class="sub-meta">Updated on June 17, 2025</h4>
    

  
  <img src="/assets/img/2025/02/smart_coaster_v3_front.jpg" alt="Smart coaster V3 build from the front" />
  

  <div class="line-separator"></div>

  <p>I keep forgetting to drink water. Between the consecutive meetings and blocks of coding, my water intake has slipped. In the mere blink of an eye, my afternoon passes by, and I end up in a dehydrated wasteland. The solution seems so easy. Drink more water! But it‚Äôs a recurring battle. My tendency to hyper-focus leaves me parched. So how do I fix this?</p>

<p>Do I set a timer? Should I buy a luxurious smart water bottle? Should I research the best water tracking app for my phone?</p>

<p>Or should I throw a bunch of glue, wood, and my favorite electronics together to construct something new? ‚ú®</p>

<p>In an effort to quickly deliver value, join me on my self-imposed 48-hour project.</p>

<div class="line-separator"></div>
<h2>
  
  
    Table of Contents
  
  
</h2>
    
<div class="table-of-contents">
<ul id="markdown-toc">
  <li><a href="#possible-solutions" id="markdown-toc-possible-solutions">Possible Solutions</a>    <ul>
      <li><a href="#water-tracking-apps" id="markdown-toc-water-tracking-apps">Water Tracking Apps</a></li>
      <li><a href="#smart-water-bottles" id="markdown-toc-smart-water-bottles">Smart Water Bottles</a></li>
      <li><a href="#a-smart-coaster" id="markdown-toc-a-smart-coaster">A Smart Coaster?</a></li>
    </ul>
  </li>
  <li><a href="#researching-the-build" id="markdown-toc-researching-the-build">Researching the Build</a>    <ul>
      <li><a href="#load-cells" id="markdown-toc-load-cells">Load Cells</a></li>
      <li><a href="#refocusing-on-the-problem" id="markdown-toc-refocusing-on-the-problem">Refocusing on the Problem</a></li>
      <li><a href="#ultrasonic--sensor" id="markdown-toc-ultrasonic--sensor">Ultrasonic üîµü¶î Sensor</a></li>
      <li><a href="#lasers" id="markdown-toc-lasers">Lasers</a></li>
    </ul>
  </li>
  <li><a href="#planning-the-build-Ô∏è" id="markdown-toc-planning-the-build-Ô∏è">Planning the Build üó∫Ô∏è</a></li>
  <li><a href="#building-it-Ô∏è" id="markdown-toc-building-it-Ô∏è">Building It üõ†Ô∏è</a>    <ul>
      <li><a href="#first-attempt" id="markdown-toc-first-attempt">First Attempt</a></li>
      <li><a href="#second-attempt" id="markdown-toc-second-attempt">Second Attempt</a></li>
      <li><a href="#finishing-touches" id="markdown-toc-finishing-touches">Finishing Touches</a></li>
      <li><a href="#final-parts-breakdown" id="markdown-toc-final-parts-breakdown">Final Parts Breakdown</a></li>
    </ul>
  </li>
  <li><a href="#how-the-smart-coaster-works-" id="markdown-toc-how-the-smart-coaster-works-">How the Smart Coaster Works ü§ñ</a>    <ul>
      <li><a href="#high-level-rules" id="markdown-toc-high-level-rules">High-Level Rules</a>        <ul>
          <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a>            <ul>
              <li><a href="#required" id="markdown-toc-required">Required</a></li>
              <li><a href="#optional" id="markdown-toc-optional">Optional</a></li>
            </ul>
          </li>
          <li><a href="#automation-triggers" id="markdown-toc-automation-triggers">Automation Triggers</a></li>
          <li><a href="#automation-actions" id="markdown-toc-automation-actions">Automation Actions</a></li>
          <li><a href="#notification-conditions" id="markdown-toc-notification-conditions">Notification Conditions</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#esphome-configuration" id="markdown-toc-esphome-configuration">ESPHome Configuration</a></li>
  <li><a href="#what-would-i-do-differently" id="markdown-toc-what-would-i-do-differently">What Would I Do Differently?</a></li>
  <li><a href="#update-2025-06-17" id="markdown-toc-update-2025-06-17">Update: 2025-06-17</a>    <ul>
      <li><a href="#first-attempt-1" id="markdown-toc-first-attempt-1">First Attempt</a>        <ul>
          <li><a href="#hiding-the-sensor" id="markdown-toc-hiding-the-sensor">Hiding the Sensor</a></li>
        </ul>
      </li>
      <li><a href="#second-attempt-1" id="markdown-toc-second-attempt-1">Second Attempt</a>        <ul>
          <li><a href="#applying-the-finish" id="markdown-toc-applying-the-finish">Applying the Finish</a></li>
          <li><a href="#learning-about-silicone" id="markdown-toc-learning-about-silicone">Learning About Silicone</a></li>
          <li><a href="#playing-with-stickers" id="markdown-toc-playing-with-stickers">Playing With Stickers</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

</div>
<div class="line-separator"></div>

<blockquote>
  <p>Changelog:</p>
  <ul>
    <li>2025-06-17: I completed my wishlist and created a second (more ascetic) version of the smart coaster. See my <a href="#update-2025-06-17">update below</a>.</li>
  </ul>
</blockquote>
<h2 id="possible-solutions">
  
  
    Possible Solutions <a href="#possible-solutions" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>Let‚Äôs start with the easiest way to fix my problem. Buying someone else‚Äôs solution. üí∏</p>

<blockquote>
  <p>I barely spent any time researching these solutions before I pivoted to my own. If I missed a good option, it was in the name of ‚Äúgetting something done‚Äù. ü§∑‚Äç‚ôÇÔ∏è</p>
</blockquote>
<h3 id="water-tracking-apps">
  
  
    Water Tracking Apps <a href="#water-tracking-apps" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>The first possible solution I came across was a water tracking app. The idea is that you buy (or subscribe to) an app that reminds you to drink water. It‚Äôs a simple concept. You drink water; you log it in the app. When you fall behind, the app reminds you to drink more water.</p>

<p>But I <em>loathe</em> this idea. It‚Äôs so‚Ä¶ <em>manual</em>. I suppose some apps lessen the work by adding a widget to your phone‚Äôs home screen. Or others add a tappable action in the notification. But it sounds so <em>tedious</em>. I want to touch my phone <em>less</em>. Not <em>more</em>. Let‚Äôs not feed the attention monster  more than we have to. üì±üëæ</p>
<h3 id="smart-water-bottles">
  
  
    Smart Water Bottles <a href="#smart-water-bottles" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>This one is kinda cool. A Bluetooth smart water bottle that tracks your water intake. The one example I looked at <a href="https://fcc.report/FCC-ID/2AURK006/">uses an internal load cell sensor</a> to measure the liquid (remember this for later).</p>

<p>When the measured weight of the liquid goes down, the bottle assumes you drank water. If you‚Äôre not drinking enough, you‚Äôll get a notification on your phone. Ignoring the price, it‚Äôs a neat idea.</p>

<p><img src="/assets/img/2025/02/smart_water_bottle.jpg" alt="Two C-batteries taped to a water bottle with an antenna loosely attached." /><em>My rendition of what a smart water bottle could look like.</em></p>

<p>But how do we power such a magical device?</p>

<p><em>Batteries</em>.</p>

<p>Do you know what happens to devices that run on batteries?</p>

<p>They run out. And then you have to charge them. And then you forget to charge them. And then you forget to drink water. ü™´ So the whole thing works great as long as you remember to keep it charged.</p>

<p>Ignoring that hyper-dramatic scenario for a moment, let‚Äôs dream about how we could fix this for our situation.</p>

<p>What if we could take one of those magic battery-powered water bottles and build some kind of smart coaster to dock into? This smart coaster would live on your desk and could keep the smart bottle charged. I bet such a device could even offer pass-through charging to keep the battery in a healthy state.</p>

<p><em>Wait</em>.</p>

<p>That‚Äôs a great idea.</p>

<p>Let‚Äôs build a smart <em>coaster</em>.</p>
<h3 id="a-smart-coaster">
  
  
    A Smart Coaster? <a href="#a-smart-coaster" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>What if I took the components of a smart bottle and put them in a coaster? I could leave the coaster plugged in, and now there are no more battery problems!</p>

<p>Does anyone sell such a magical device? üßô‚Äç‚ôÇ</p>

<p>Not that I could find! So let‚Äôs build one.</p>

<p><img src="/assets/img/2025/02/a_really_smart_coaster.jpg" alt="A pair of glasses with a coaster behind the eye pieces" /><em>A really smart coaster</em></p>
<h2 id="researching-the-build">
  
  
    Researching the Build <a href="#researching-the-build" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>If I‚Äôm going to build a smart coaster, I want it to:</p>

<ol>
  <li>Intelligently remind me to drink water</li>
  <li>Integrate with my existing smart home setup (preferably using <a href="https://www.home-assistant.io/">Home Assistant</a> and <a href="https://esphome.io/">ESPHome</a>)</li>
</ol>
<h3 id="load-cells">
  
  
    Load Cells <a href="#load-cells" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Playing off of the idea above, what if I use a load cell to measure the weight of the water bottle? I could then track the volume of liquid consumed and notify me if I‚Äôve fallen behind on my goal.</p>

<p>From my 5 minutes of research, I found that load cells come in a variety of form factors. But if I wanted a nice flat coaster, I‚Äôd need a flat or low-profile load cell.</p>

<p>Pretending for a moment that I could find the perfect small flat load cell (at an affordable price), I‚Äôd still need to find a way to integrate it with ESPHome.</p>

<p>But there‚Äôs more. I‚Äôd have to calibrate the load cell to the bottle. And what if I switch bottles? Or cups? Or mugs? ü§Ø</p>
<h3 id="refocusing-on-the-problem">
  
  
    Refocusing on the Problem <a href="#refocusing-on-the-problem" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>We‚Äôve gone off course. All of the solutions we‚Äôve looked at so far are trying to solve <em>how much</em> water I drink. But that‚Äôs not the <em>root</em> problem.</p>

<p><strong>I <em>really</em> have an attention problem.</strong></p>

<p><em>If</em> I remember to drink water, I have no problem consuming it. I just need that little nudge to think about it.</p>

<p>Instead of trying to detect <em>how much</em> liquid is in a bottle, let‚Äôs just try to detect if a bottle is present.</p>

<blockquote>
  <p>Full disclosure: A load cell can excel at detecting if <em>something</em> is present. But I don‚Äôt <em>think</em> the load cell would have been as compact as my final solution, and it would cost a bit more.</p>
</blockquote>
<h3 id="ultrasonic--sensor">
  
  
    Ultrasonic üîµü¶î Sensor <a href="#ultrasonic--sensor" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>The first sensor that came to my mind for presence detection was the trusty <a href="https://en.wikipedia.org/wiki/Ultrasonic_transducer">ultrasonic sensor</a>. It‚Äôs a sensor that shoots out a sound wave and listens for the echo. If it hears the echo, it knows something is there (and can also determine the distance).</p>

<p>But most of these sensors are a bit bulky and might not fit into my design. There‚Äôs also the chance of noise interferences with sound waves bouncing off other objects.</p>

<p>Want to know what‚Äôs cooler than bouncing sound waves off objects? Bouncing light waves off objects. üåàü¶Ñ</p>
<h3 id="lasers">
  
  
    Lasers <a href="#lasers" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Meet the VL53L0X. This range sensor utilizes a laser and a detector to precisely measure the time it takes for light to reflect off an object. In most board designs, the VL53L0X achieves remarkable compactness, enabling its use in space-constrained applications.</p>

<p><img src="/assets/img/2025/02/VL53L0X.jpg" alt="VL53L0X Time of Flight sensor board screwed into wood" /><em>VL53L0X ToF sensor</em></p>

<p>The VL53L0X is <em>also</em> <a href="https://esphome.io/components/sensor/vl53l0x.html">supported by ESPHome</a>, which makes it a perfect candidate for my smart coaster. ü•á</p>
<h2 id="planning-the-build-Ô∏è">
  
  
    Planning the Build üó∫Ô∏è <a href="#planning-the-build-Ô∏è" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>My plan is to mount a VL53L0X ToF (Time of Flight) sensor facing the water bottle to detect if anything is present.</p>

<p>(Simplified) Rules:</p>

<ul>
  <li>If the bottle is present, a timer will start.</li>
  <li>If I pick up the bottle, the timer will start over.</li>
  <li>If the timer runs out, I‚Äôll get a notification to drink water.</li>
</ul>

<p>I‚Äôll plug the sensor into a (Seeed Studio XIAO) ESP32-S3 that I had lying around, program it using <a href="https://esphome.io/">ESPHome</a>, and handle any automations in <a href="https://www.home-assistant.io/">Home Assistant</a>.</p>

<p>Let‚Äôs build it.</p>
<h2 id="building-it-Ô∏è">
  
  
    Building It üõ†Ô∏è <a href="#building-it-Ô∏è" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    
<h3 id="first-attempt">
  
  
    First Attempt <a href="#first-attempt" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>My first attempt to build my smart coaster didn‚Äôt work. In my head, I thought I could make this as compact as possible by mounting the VL53L0X sensor at a 90¬∞ angle to the coaster and hiding my ESP32 chip behind it.</p>

<p><img src="/assets/img/2025/02/smart_coaster_first_design.jpg" alt="Wood boards glued and clamped together to make a coaster prototype" /><em>My first attempt to build the smart coaster. I later decided mounting the sensor at 90¬∞ would make the sensor too close to the bottle.</em></p>

<p>This approach was a bad idea. Because I was speedrunning this project, I didn‚Äôt take the time to read any of the specifications on the VL53L0X sensor I had just purchased online. It turns out there is a minimum distance the sensor needs to be from an object to work properly (30-40 mm).</p>

<blockquote>
  <p>Alternatively, I could have used a different sensor such as the VL53L4CD, with a near 0 mm minimum range. At the time of ordering my parts, it wasn‚Äôt yet supported by ESPHome. Only later did I learn that a <a href="https://github.com/mrtoy-me">mrtoy-me</a> had been working on a custom component for it but it is no longer public.</p>
</blockquote>

<p>If I were to mount the sensor to the board shown above, the sensor would be too close to the bottle to work properly. This might create a false reading, which could lead to a lot of incorrect notifications. üö®</p>

<p>But then I had a brilliant idea. Rather than increasing the length of my coaster plate and pushing the sensor further back, what if I leaned the mounting board back at a 45¬∞ angle? üìê</p>

<p>Since the sensor would be further away and pointing up at an angle, this would greatly increase the distance between the sensor and the closest  point on the water bottle.</p>

<p>Not only that, leaning the board back would shrink the overall footprint by lowering the height.</p>

<p>It would also make the coaster look <em>cool</em>. üòé</p>

<p>So I took a hammer and chiseled the two boards apart. üî® <em>I wasn‚Äôt going to throw them away!</em></p>
<h3 id="second-attempt">
  
  
    Second Attempt <a href="#second-attempt" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Not wanting to make the same mistake twice, I tested mounting the sensor at a new 45¬∞ angle with <em>mounting tape</em> (not wood glue). Funny how my arrogance got the best of me last time around. ü§¶</p>

<p><img src="/assets/img/2025/02/smart_coaster_taped.jpg" alt="Wood boards mounted together at an angle with tape" /><em>First assembled prototype. Instead of using wood glue, I learned from my past mistake and assembled this one with mounting tape.</em></p>

<p>And you know what? It just worked! üìΩÔ∏è</p>

<!-- Method to implement AMP-Video. -->

<video width="700" controls="" autoplay="" loop="">
  <source src="/assets/files/2025/02/drink_water.mp4" type="video/mp4" />
  <p>Your browser doesn't support HTML5 video</p>
</video>

<p>Let‚Äôs finish this thing.</p>
<h3 id="finishing-touches">
  
  
    Finishing Touches <a href="#finishing-touches" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Feeling proud of my work, I gathered my materials and tools for final assembly.</p>

<p>I took some wood glue and adhered the angled boards together. I found some extra screws that fit the holes in the VL53L0X sensor board and screwed it into place.</p>

<p>Obviously, I needed some kind of coaster to complete the coaster build. I took one of my old rubber(?) coasters and fastened it to the coaster plate with some mounting tape. üëå</p>

<p><img src="/assets/img/2025/02/smart_coaster_front.jpg" alt="Smart coaster build from the front" /><em>Final smart coaster from the front.</em></p>

<p>Behind the wedge in the back, I used hot glue to secure my super-compact Seeed Studio XIAO ESP32-S3 chip. <em>Seriously, this thing is tiny.</em></p>

<p><img src="/assets/img/2025/02/smart_coaster_rear_wiring.jpg" alt="Smart coaster build from the rear; showing wiring" /><em>Final smart coaster with the Seeed Studio XIAO ESP32-S3 hot glued down.</em></p>

<p>Early testing revealed that I needed to figure out how to keep my smart coaster from sliding around my desk.</p>

<p>Last year, I encountered a material that I thought would work perfectly for my situation. I had previously purchased a watch stand from Spigen. It had an interesting material at the bottom that they named ‚ÄúNanoTac‚Äù. This material kept the watch stand upright on the desk and resisted being knocked over, but it wasn‚Äôt <em>sticky</em>.</p>

<p>It‚Äôs somewhat similar to those sticky hands you‚Äôd get from the quarter machines as a kid, but in a much thinner layer. It‚Äôs pretty close to what I would describe as a silicone gel pad with some light textured etching on it. But I don‚Äôt think it was actually silicone.</p>

<blockquote>
  <p>If you‚Äôre trying to find a similar material, I‚Äôd recommend looking for ‚ÄúCar Dashboard Non Slip Mat‚Äù or ‚ÄúAnti Slip Gel Pads‚Äù online.</p>
</blockquote>

<p>After a bit of searching, I ended up finding some textured car dashboard pads that fit this description. I cut them to size and slapped them to the bottom of the coaster. They just kinda stay without any glue. The feet also dampen the sound when I set my water bottle down. It‚Äôs pretty neat!</p>

<p>This isn‚Äôt going anywhere! üö´üï∫</p>

<p><img src="/assets/img/2025/02/gel_pads.jpg" alt="Underside of smart coaster with 3 gel pads stuck to it" /><em>‚ÄúGel‚Äù pads installed underneath the coaster so it doesn‚Äôt slide around my desk.</em></p>
<h3 id="final-parts-breakdown">
  
  
    Final Parts Breakdown <a href="#final-parts-breakdown" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Here is the parts list for my smart coaster and the (approximate) cost of each item:</p>

<ul>
  <li>Existing rubber coaster ($1)</li>
  <li>Scrap wood ($1)</li>
  <li>Seeed Studio XIAO ESP32-S3 ($8)</li>
  <li>VL53L0X ToF sensor ($7)</li>
  <li>‚ÄúGel‚Äù pads ($6)</li>
  <li>Screws and mounting tape ($1-$5)</li>
  <li>Wood glue and hot glue ($1-$5)</li>
</ul>

<p>Total cost: <strong>$25-$33</strong></p>

<blockquote>
  <p>I actually had all of these parts laying around except the VL53L0X sensor and the ‚Äúgel‚Äù pads. So <em>my</em> actual cost was closer to $15. ü§ë</p>
</blockquote>

<p>Physically, the smart coaster is complete. But how does it work?</p>
<h2 id="how-the-smart-coaster-works-">
  
  
    How the Smart Coaster Works ü§ñ <a href="#how-the-smart-coaster-works-" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>Assembling the hardware is satisfying, but the real intelligence lies in the automations that connect it all.</p>

<p>As I mentioned before, I‚Äôm using a VL53L0X ToF sensor to detect if a water bottle is present on the coaster. It is connected to a Seeed Studio XIAO ESP32-S3 chip, which is programmed using <a href="https://esphome.io/">ESPHome</a>. I connect the ESP32-S3 to my <a href="https://www.home-assistant.io/">Home Assistant</a> instance to handle the automations.</p>
<h3 id="high-level-rules">
  
  
    High-Level Rules <a href="#high-level-rules" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>During my workday, if 45 minutes pass and I haven‚Äôt picked up my water bottle, I‚Äôll receive a notification on my devices suggesting that I should take a drink. ‚åõÔ∏è</p>

<p>When I pick up the water bottle, the timer will reset back to 45 minutes, and any pre-existing drink notifications on my devices will be automatically dismissed. üö∞</p>

<p>After the timer ends, if I <em>don‚Äôt</em> pick up my water bottle, I will continue to receive notifications every 5 minutes until I pick up the water bottle. ‚ôªÔ∏è</p>
<h4 id="prerequisites">
  
  
    Prerequisites <a href="#prerequisites" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    
<h5 id="required">
  
  
    Required <a href="#required" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h5>
    
<ol>
  <li>Create a timer for the desired duration between drink reminders (I use 45 minutes). This will be used in the automations.
    <ul>
      <li><a href="https://www.home-assistant.io/integrations/timer/">https://www.home-assistant.io/integrations/timer/</a></li>
    </ul>
  </li>
</ol>
<h5 id="optional">
  
  
    Optional <a href="#optional" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h5>
    
<ol>
  <li>Create a counter that will increment every time I pick up my water bottle.
    <ul>
      <li>Useful for historical tracking.</li>
      <li><a href="https://www.home-assistant.io/integrations/counter/">https://www.home-assistant.io/integrations/counter/</a></li>
    </ul>
  </li>
  <li>Create a template sensor of the counter‚Äôs state.
    <ul>
      <li>Necessary to use it with the <code class="language-plaintext highlighter-rouge">utility_meter</code> integration below.</li>
      <li><code class="language-plaintext highlighter-rouge">{{states('counter.drink_counter')}}</code></li>
      <li><a href="https://www.home-assistant.io/integrations/template/">https://www.home-assistant.io/integrations/template/</a></li>
    </ul>
  </li>
  <li>Create a utility meter of the template sensor above.
    <ul>
      <li>Have the utility meter ‚Äúreset daily‚Äù.</li>
      <li>Useful for tracking daily water intake.</li>
      <li><a href="https://www.home-assistant.io/integrations/utility_meter/">https://www.home-assistant.io/integrations/utility_meter/</a></li>
    </ul>
  </li>
</ol>
<h4 id="automation-triggers">
  
  
    Automation Triggers <a href="#automation-triggers" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>My timer automatically kicks off during the workday (weekdays) at:</p>
<ul>
  <li>8:00 AM</li>
  <li>1:00 PM</li>
  <li>Whenever my laptop screen turns on (assuming the timer is not already running). This is more of a fallback in case I‚Äôm starting later than usual.</li>
</ul>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">Screen Off</code> is an attribute exposed on the <code class="language-plaintext highlighter-rouge">binary_sensor.mac_device_active</code> in the Home Assistant companion app on MacOS.</p>
</blockquote>
<h4 id="automation-actions">
  
  
    Automation Actions <a href="#automation-actions" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>If the timer runs out naturally:</p>
<ul>
  <li>I get an alert</li>
  <li>The timer gets set back to 5 minutes (which will keep looping)</li>
</ul>

<p>If I pick up the water bottle:</p>
<ul>
  <li>The timer gets reset to 45 minutes</li>
  <li><strong>Any drink notifications on my devices get automatically dismissed</strong> (thank goodness; less notification spam)</li>
</ul>

<blockquote>
  <p>The <code class="language-plaintext highlighter-rouge">clear_notification</code> is a message that can be sent to clear Home Assistant notifications on a device that has a matching <code class="language-plaintext highlighter-rouge">data.tag</code>.</p>

  <p><a href="https://companion.home-assistant.io/docs/notifications/notifications-basic#clearing">https://companion.home-assistant.io/docs/notifications/notifications-basic#clearing</a></p>
</blockquote>
<h4 id="notification-conditions">
  
  
    Notification Conditions <a href="#notification-conditions" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>Notifications will only be sent if the following conditions are met:</p>
<ul>
  <li>The timer runs out</li>
  <li>During normal working hours (excludes lunch hour)</li>
  <li>My laptop screen is on (which means I‚Äôm at my computer next to my smart coaster)</li>
</ul>

<details>

  <summary>[Yaml] Home Assistant Automation</summary>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Written for Home Assistant 2025.2.0</span>
<span class="na">alias</span><span class="pi">:</span> <span class="s">Water Bottle Drink Timer &amp; Alerts</span>
<span class="na">description</span><span class="pi">:</span> <span class="s">Automation to notify me when I haven't had anything to drink for a while.</span>
<span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">event</span>
    <span class="na">event_type</span><span class="pi">:</span> <span class="s">timer.finished</span>
    <span class="na">event_data</span><span class="pi">:</span>
      <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">timer-finished</span>
    <span class="na">alias</span><span class="pi">:</span> <span class="s">Water bottle timer finishes</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s">Water bottle picked up</span>
    <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">entity_id</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">binary_sensor.esp_32_s3_01_water_bottle_present</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">reset-timer</span>
    <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>
    <span class="na">for</span><span class="pi">:</span>
      <span class="na">hours</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">minutes</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">seconds</span><span class="pi">:</span> <span class="m">1</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">time</span>
    <span class="na">at</span><span class="pi">:</span> <span class="s2">"</span><span class="s">08:00:00"</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">start-timer</span>
    <span class="na">alias</span><span class="pi">:</span> <span class="s">Kick Off Timer (Morning)</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">time</span>
    <span class="na">at</span><span class="pi">:</span> <span class="s2">"</span><span class="s">13:00:00"</span>
    <span class="na">alias</span><span class="pi">:</span> <span class="s">Kick Off Timer (Afternoon)</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">start-timer</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">entity_id</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">binary_sensor.mac_device_active</span>
    <span class="na">attribute</span><span class="pi">:</span> <span class="s">Screen Off</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">false"</span>
    <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">alias</span><span class="pi">:</span> <span class="s">When screen turns on (backup condition)</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">screen-on</span>
<span class="na">conditions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s">During standard working hours</span>
    <span class="na">condition</span><span class="pi">:</span> <span class="s">time</span>
    <span class="na">after</span><span class="pi">:</span> <span class="s2">"</span><span class="s">07:55:00"</span>
    <span class="na">before</span><span class="pi">:</span> <span class="s2">"</span><span class="s">16:55:00"</span>
    <span class="na">weekday</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">mon</span>
      <span class="pi">-</span> <span class="s">tue</span>
      <span class="pi">-</span> <span class="s">wed</span>
      <span class="pi">-</span> <span class="s">thu</span>
      <span class="pi">-</span> <span class="s">fri</span>
<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">choose</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">start-timer</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">state</span>
            <span class="na">entity_id</span><span class="pi">:</span> <span class="s">binary_sensor.esp_32_s3_01_water_bottle_present</span>
            <span class="na">state</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="c1"># By cancelling the timer and starting it again, we can have it return to its original value at without needing to pass the duration in.</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.cancel</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.start</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">reset-timer</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="c1"># By cancelling the timer and starting it again, we can have it return to its original value at without needing to pass the duration in.</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.cancel</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.start</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
          <span class="pi">-</span> <span class="na">parallel</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">counter.increment</span>
                <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
                <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
                <span class="na">target</span><span class="pi">:</span>
                  <span class="na">entity_id</span><span class="pi">:</span> <span class="s">counter.drink_counter</span>
              <span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
                  <span class="na">message</span><span class="pi">:</span> <span class="s">clear_notification</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">tag</span><span class="pi">:</span> <span class="s">water-drink-alert</span>
                <span class="na">action</span><span class="pi">:</span> <span class="s">notify.kyle</span>
                <span class="na">alias</span><span class="pi">:</span> <span class="s">Clear notify.kyle</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">timer-finished</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">not</span>
            <span class="na">conditions</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">time</span>
                <span class="na">after</span><span class="pi">:</span> <span class="s2">"</span><span class="s">11:55:00"</span>
                <span class="na">before</span><span class="pi">:</span> <span class="s2">"</span><span class="s">13:05:00"</span>
            <span class="na">alias</span><span class="pi">:</span> <span class="s">Not during lunch</span>
          <span class="pi">-</span> <span class="na">alias</span><span class="pi">:</span> <span class="s">Mac screen on</span>
            <span class="na">condition</span><span class="pi">:</span> <span class="s">state</span>
            <span class="na">entity_id</span><span class="pi">:</span> <span class="s">binary_sensor.mac_device_active</span>
            <span class="na">attribute</span><span class="pi">:</span> <span class="s">Screen Off</span>
            <span class="na">state</span><span class="pi">:</span> <span class="kc">false</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">parallel</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
                  <span class="c1"># My cheater way to convert the timer's original duration into minutes for my notification. It will work for any _sane_ duration.</span>
                  <span class="na">title</span><span class="pi">:</span> <span class="s">ü•§ Drink some water</span>
                  <span class="na">message</span><span class="pi">:</span> <span class="pi">&gt;-</span>
                    <span class="s">You haven't had anything to drink in the last {% set</span>
                    <span class="s">remaining_time = state_attr('timer.water_bottle_timer',</span>
                    <span class="s">'duration').split(':') %}{{remaining_time[0] | int * 60 +</span>
                    <span class="s">remaining_time[1] | int }} minutes.</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">ttl</span><span class="pi">:</span> <span class="m">0</span>
                    <span class="na">priority</span><span class="pi">:</span> <span class="s">high</span>  
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">notification_icon</span><span class="pi">:</span> <span class="s">mdi:beer</span>
                    <span class="na">group</span><span class="pi">:</span> <span class="s">water-drink-alert</span>
                    <span class="na">channel</span><span class="pi">:</span> <span class="s">water-drink-alert</span>
                    <span class="na">tag</span><span class="pi">:</span> <span class="s">water-drink-alert</span>
                    <span class="na">push</span><span class="pi">:</span>
                      <span class="na">interruption-level</span><span class="pi">:</span> <span class="s">time-sensitive</span>
                <span class="na">action</span><span class="pi">:</span> <span class="s">notify.kyle</span>
              <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.start</span>
                <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
                <span class="na">data</span><span class="pi">:</span>
                  <span class="na">duration</span><span class="pi">:</span> <span class="s2">"</span><span class="s">00:05:00"</span>
                <span class="na">target</span><span class="pi">:</span>
                  <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
                <span class="na">alias</span><span class="pi">:</span> <span class="s">Short timer restart (reminder)</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">screen-on</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">not</span>
            <span class="na">conditions</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">state</span>
                <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
                <span class="na">state</span><span class="pi">:</span> <span class="s">active</span>
            <span class="na">alias</span><span class="pi">:</span> <span class="s">If timer not running</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="c1"># By cancelling the timer and starting it again, we can have it return to its original value at without needing to pass the duration in.</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.cancel</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
          <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">timer.start</span>
            <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
            <span class="na">target</span><span class="pi">:</span>
              <span class="na">entity_id</span><span class="pi">:</span> <span class="s">timer.water_bottle_timer</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">single</span>
</code></pre></div>  </div>

</details>
<h2 id="esphome-configuration">
  
  
    ESPHome Configuration <a href="#esphome-configuration" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>Here is a breakdown of the hardware and ESPHome configuration I used for my smart coaster:</p>

<ul>
  <li>Board:
    <ul>
      <li>Seeed Studio XIAO ESP32-S3
        <ul>
          <li>Super small form factor</li>
          <li>(I have a few lying around from Christmas üéÑ)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Sensor:
    <ul>
      <li>VL53L0X ToF sensor to detect the presence of a water bottle on the coaster
        <ul>
          <li>Super compact</li>
          <li>Easy to find online</li>
        </ul>
      </li>
      <li>The component already exists in ESPHome
        <ul>
          <li><a href="https://esphome.io/components/sensor/vl53l0x.html">https://esphome.io/components/sensor/vl53l0x.html</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<details>

  <summary>[Yaml] ESPHome Configuration</summary>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Basic Config</span>
<span class="c1"># esp-32-s3-01</span>
<span class="c1"># Smart Coaster</span>
<span class="c1"># Update for 2025.5.0</span>

<span class="na">substitutions</span><span class="pi">:</span>
  <span class="na">board_id</span><span class="pi">:</span> <span class="s">esp-32-s3-01</span>
  <span class="na">friendly_name</span><span class="pi">:</span> <span class="s">Smart Coaster</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">smart-coaster</span>

<span class="na">wifi</span><span class="pi">:</span>
  <span class="na">ssid</span><span class="pi">:</span> <span class="kt">!secret</span> <span class="s">wifi_ssid</span>
  <span class="na">password</span><span class="pi">:</span> <span class="kt">!secret</span> <span class="s">wifi_password</span>

  <span class="c1"># Enable fallback hotspot (captive portal) in case wifi connection fails</span>
  <span class="na">ap</span><span class="pi">:</span>
    <span class="na">ssid</span><span class="pi">:</span> <span class="s2">"</span><span class="s">${board_id}</span><span class="nv"> </span><span class="s">Hotspot"</span>
    <span class="na">password</span><span class="pi">:</span> <span class="kt">!secret</span> <span class="s">ap_hotspot_password</span>

<span class="c1"># Enable captive portal if wifi ever changes</span>
<span class="na">captive_portal</span><span class="pi">:</span>

<span class="c1"># Enable Home Assistant API</span>
<span class="na">api</span><span class="pi">:</span>
  <span class="na">encryption</span><span class="pi">:</span>
    <span class="na">key</span><span class="pi">:</span> <span class="kt">!secret</span> <span class="s">encryption_pre_shared_key</span>

<span class="na">ota</span><span class="pi">:</span>
  <span class="na">platform</span><span class="pi">:</span> <span class="s">esphome</span>
  <span class="na">password</span><span class="pi">:</span> <span class="kt">!secret</span> <span class="s">ota_password</span>

<span class="na">esphome</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">${name}</span>
  <span class="na">comment</span><span class="pi">:</span> <span class="s">${board_id}</span>
  <span class="na">friendly_name</span><span class="pi">:</span> <span class="s">${friendly_name}</span>

<span class="na">esp32</span><span class="pi">:</span>
  <span class="na">board</span><span class="pi">:</span> <span class="s">esp32-s3-devkitc-1</span>
  <span class="na">framework</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">arduino</span>

<span class="c1"># Enable logging</span>
<span class="na">logger</span><span class="pi">:</span>

<span class="na">i2c</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s">bus_a</span>
  <span class="na">sda</span><span class="pi">:</span> <span class="s">GPIO05</span>
  <span class="na">scl</span><span class="pi">:</span> <span class="s">GPIO06</span>
  <span class="na">scan</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">sensor</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">vl53l0x</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">vl53l0x_sensor</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">VL53L0x</span><span class="nv"> </span><span class="s">Distance"</span>
    <span class="na">update_interval</span><span class="pi">:</span> <span class="s">500ms</span>
    <span class="na">unit_of_measurement</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mm"</span>
    <span class="na">filters</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">multiply</span><span class="pi">:</span> <span class="m">1000</span>

<span class="na">binary_sensor</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">template</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Water</span><span class="nv"> </span><span class="s">Bottle</span><span class="nv"> </span><span class="s">Present"</span>
    <span class="na">lambda</span><span class="pi">:</span> <span class="pi">|-</span>
      <span class="s">if (id(vl53l0x_sensor).has_state()) {</span>
        <span class="s">// 150 mm threshold</span>
        <span class="s">return id(vl53l0x_sensor).state &lt; 150;</span>
      <span class="s">} else {</span>
         <span class="s">// Return false if the sensor has no state yet</span>
        <span class="s">return false;</span>
      <span class="s">}</span>
    <span class="na">device_class</span><span class="pi">:</span> <span class="s">occupancy</span>

<span class="c1"># Enables status LED</span>
<span class="na">status_led</span><span class="pi">:</span>
  <span class="na">pin</span><span class="pi">:</span> 
    <span class="na">number</span><span class="pi">:</span> <span class="s">GPIO21</span>
    <span class="na">inverted</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div>  </div>

</details>
<h2 id="what-would-i-do-differently">
  
  
    What Would I Do Differently? <a href="#what-would-i-do-differently" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>If I had the gumption and endless free time for this project, I would:</p>

<ul>
  <li>Use a dark walnut wood stain on the coaster plate</li>
  <li>Carve out a small channel or hole in the coaster plate to hide the sensor wiring</li>
  <li>Figure out how to recess the sensor to the coaster plate</li>
  <li>Cover the sensor with a thin layer of acrylic to better hide and protect it</li>
  <li>Solder wires between the boards</li>
  <li>Enclose the back wedge with a thin layer of wood or black acrylic</li>
</ul>
<h2 id="update-2025-06-17">
  
  
    Update: 2025-06-17 <a href="#update-2025-06-17" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p>I‚Äôve been using my smart coaster for a few months, and it‚Äôs made me more conscious about my water intake. So far I‚Äôve received ~700+ drink reminders, or around 9 each day.</p>

<p>As this has become one of my most consistently used devices, I decided to treat myself and tackle some items from the wishlist I posted a few months back.</p>

<ul>
  <li>‚úÖ Use a dark walnut wood stain on the coaster plate</li>
  <li>‚úÖ Carve out a small channel or hole in the coaster plate to hide the sensor wiring</li>
  <li>‚úÖ Figure out how to recess the sensor to the coaster plate</li>
  <li>‚úÖ Cover the sensor with a thin layer of acrylic to better hide and protect it</li>
  <li>‚úÖ Solder wires between the boards</li>
  <li>‚ùå <del>Enclose the back wedge with a thin layer of wood or black acrylic</del> With organized wiring, this should be unnecessary</li>
</ul>
<h3 id="first-attempt-1">
  
  
    First Attempt <a href="#first-attempt-1" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>I figured this would be a straightforward update. I would take some of my new tools and create an updated version of my coaster plate that addresses the aesthetic complaints I had with the first version.</p>

<p>To get things started, I needed some design ideas. I wanted to match some of the mid-century modern elements that are already present in my home. After toying around with some thoughts, I enlisted Gemini to help me envision some different color changes in my original coaster.</p>

<p><img src="/assets/img/2025/02/smart_coaster_ai_reimagined.png" alt="A Gemini AI tweaked image of my original coaster in dark walnut and a green coaster pad" /><em>Gemini AI‚Äôs re-imagining of my original coaster with a dark walnut stain and a green coaster pad</em></p>

<p>The above image is what inspired me to mix a dark walnut wood stain with some green elements. To complement the dark wood, I eventually decided on a dark sage green silicone pad and braided USB-C cable. I ordered the parts and went to work forming the wooden base.</p>

<p>The first thing I did was gather the pine wood that I used for the original coaster plate. I cut it down to size and added some blinders in the back to hide the electronics from the side. I glued it all together and let it dry overnight.</p>

<p>If I owned (or knew how to use) a CNC router, I would have used it to:</p>

<ol>
  <li>Carve out the recessed hole for the ToF sensor</li>
  <li>Cut a shallow recess to inlay an acrylic plate cover</li>
</ol>

<p>But I didn‚Äôt have those tools. So I pulled out my handheld rotary tool and carved out the recessed hole for the ToF sensor with my carving bits. My goal was to make the sensor flush-mounted to the coaster backing. This would make it easier to hide.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v2_before_stain.jpg" alt="A Smart Coaster prototype in eastern white pine" /><em>My Smart Coaster V2 in (eastern white?) pine before staining</em></p>
<h4 id="hiding-the-sensor">
  
  
    Hiding the Sensor <a href="#hiding-the-sensor" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>Reminder: My ToF sensor needs to be able to see the laser dot reflection to measure the distance from an object. So whatever material I use to hide it needs to possess <em>some</em> kind of transparent properties.</p>

<p>My original plan was to adhere a <em>super thin</em>, black, translucent acrylic sheet over the sensor. I wasn‚Äôt able to locate any, so I did the next best thing. I decided to use some ‚ÄúLED dimming stickers‚Äù. LED dimming stickers are sold as devices that can help dim blindingly bright electronic LEDs that illuminate a room at night.</p>

<p>You can easily find these magical stickers online, but they‚Äôre essentially glossy, thin plastic stickers that block some amount of light from shining through. The best way to describe this is like a black-tinted Kapton tape.</p>

<p>Through some early testing, I found that covering my ToF sensor with one of these stickers successfully hides the sensor while still allowing the laser light to still detect distances. ‚úÖ</p>

<p>With the plan in motion, I switched back to the coaster board. I sanded down the dry prototype and began to apply a dark walnut wood stain.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v2_after_stain.jpg" alt="A Smart Coaster prototype with a poorly completed stain job" /><em>My Smart Coaster V2 after a terrible staining job with super inconsistent grain</em></p>

<p>The results looked <del>beautiful</del> like trash üóëÔ∏è. Seriously, this was a disaster. I‚Äôve done some passable wood staining in the past for trim, railings, and speakers. I‚Äôve even used the <em>exact</em> same wood stain when I refinished the top on my Sansui SP-1700 speaker below!</p>

<p><img src="/assets/img/2025/02/sansui_sp-1700_speaker_refinish.jpg" alt="Refinishing Sansui SP-1700 speakers" /><em>Proof that I‚Äôm not entirely incompetent by demonstrating the same stain gel to repair and re-finish my Sansui SP-1700 3-Way Speaker</em></p>

<p>After 3 coats, the stain was still uneven and blotchy from the cheap pine board I was using. Instead of trying to fix the problem, I made the decision to use a superior material.</p>
<h3 id="second-attempt-1">
  
  
    Second Attempt <a href="#second-attempt-1" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h3>
    

<p>Enter <em>black walnut</em>. If I was trying to get a ‚Äúdark walnut‚Äù look for my coaster, why not just use black walnut? In quantities this small, it doesn‚Äôt really hurt the bank too much. üí∞</p>

<p>I found some solid 1/2‚Äù black walnut ‚Äòthin stock‚Äô that fit the dimensions I needed and ordered it. Oh wow, let me tell you, this stuff is <em>gorgeous</em>. You can find some really nice grain patterns in the wood, especially when it‚Äôs wet.</p>

<p>I took this opportunity to add an additional angled front undercut that is parallel to the slant on the rear of the back wedge. I think it gives the coaster a nice, subtle flow with something less boring.</p>

<p>Since everything was still in pieces, I also carved out a channel in the back wedge where I planned to hide the ToF sensor and wiring. You can see my test fitment below.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_unglued.jpg" alt="Green painter's tape covering the bare black " /><em>Preparing the surfaces of the black walnut coaster with painter‚Äôs tape to keep the glue from spreading on the wood</em></p>

<p>Learning from some mistakes on my previous prototype, I wrapped the edges of my coaster with some green painter‚Äôs tape so the wood glue wouldn‚Äôt squeeze out everywhere. I made sure to remove these after pressing the pieces together and before the glue dried so they wouldn‚Äôt get stuck underneath any edges. I theorize this was one of my issues in my earlier prototype, where the stain was unable to penetrate the pine wood properly due to the glue soaking into the wood.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v2_and_v3.jpg" alt="A poorly stained pine coaster on the left and an unstained/un-oiled black walnut coaster on the right" /><em>A comparison showing the abomination of my stained V2 coaster versus my un-oiled V3 coaster</em></p>

<p>After the glue dried, I sliced off the back ears and sanded it down with some 220-grit sandpaper to hide my miter saw cuts. Once everything was smooth, I began to apply the finish.</p>
<h4 id="applying-the-finish">
  
  
    Applying the Finish <a href="#applying-the-finish" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>Since this is already a dark wood, I chose not to stain it, or else I might lose some of the lighter grain definition. I went with Osmo Polyx Hard Wax Oil #3054 (Clear Satin) to give it a nice sheen. It was very easy to work with. After 2 coats, this was the result. üò≥</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_after_oil.jpg" alt="A black walnut coaster with Osmo Polyx Hard Wax Oil #3054 rubbed in" /><em>The beautiful sheen of my black walnut coaster plate after rubbing in Osmo Polyx Hard Wax Oil #3054</em></p>

<p>It looks so good! I really wish I had used a nicer wood like this from the start. But using pine in the earlier prototypes gave me plenty of opportunities to refine my design.</p>

<p>After a bit of drying time, I added the gel pads to the bottom of the coaster (reusing the same ones as before). I inserted the newly soldered ToF sensor and routed the wires into the back pocket, where they connected to Seeed Studio XIAO ESP32-S3. I hot-glued the ESP32-S3 into place and made sure everything was working properly.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_backside.jpg" alt="The backside of my smart coaster showing a Seeed Studio XIAO ESP32-S3" /><em>The backside of my Smart Coaster showing the compact install of the Seeed Studio XIAO ESP32-S3</em></p>

<p>Here is another view of the <em>nearly completed</em> Smart Coaster V3 from the front. At this point, everything was functional again. But I needed to take care of some finishing touches before I could call it complete.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_before_sticker.jpg" alt="A nearly completed Smart Coaster made of black walnut with an exposed time-of-flight sensor in the back" /><em>The nearly complete Smart Coaster V3 with its recessed time-of-flight sensor still exposed</em></p>
<h4 id="learning-about-silicone">
  
  
    Learning About Silicone <a href="#learning-about-silicone" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>I had to stop my coaster pad from sliding off of the wooden base plate. The reason I‚Äôm using a coaster pad is that it helps guide the placement of the water bottle without looking. If I didn‚Äôt have this, I might accidentally set my water bottle down on the edge of the coaster plate where it could tip over.</p>

<p>To mount the silicone coaster pad to my wooden base, I tried to use some of the same mounting tape I used in my original prototype (which I later learned was rubber). That didn‚Äôt work well. The tape was actually sticking to the paper backing better than it was to the silicone coaster pad. üôÉ</p>

<p>Next, I tried to hot glue it. If you‚Äôve worked with silicone before, you can probably guess how that went. The hot glue blobs peeled right off of the silicone pad. ü•∏</p>

<p>Those lessons gave me hands-on learning on how silicone is <em>extremely</em> hydrophobic and non-porous. To adhere silicone to anything, one needs to choose more appropriate alternatives like a silicone-based adhesive.</p>

<p>Lucky for me, I already had some lying around. I ended up using some <a href="https://www.permatex.com/products/adhesives-and-sealants/adhesives-sealant/permatex-black-silicone-adhesive-sealant-3-oz/">Permatex 81158 Black Silicone Adhesive Sealant</a> from the depths of my tool shelves. So far it‚Äôs holding! ü§û</p>
<h4 id="playing-with-stickers">
  
  
    Playing With Stickers <a href="#playing-with-stickers" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h4>
    

<p>To wrap up the coaster rebuild, I had to cover the ToF sensor. Putting a cover over it protects the sensor from dust and debris while also hiding any electronics that might be visible from view.</p>

<p>Inspired by mid-century atomic design, I wanted to overlay a stretched black diamond accent piece. My goal was to match the design language that I was already applying in the wood angles. Using my X-Acto knife, I sliced away a diamond-shaped accent from the blank sticker sheet and placed it over the sensor.</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_sticker_placement.jpg" alt="A sticker covering the time-of-flight sensor on my Smart Coaster V3" /><em>Sticker placement covering the ToF sensor on my Smart Coaster V3 (ignore the pencil alignment marks ‚úèÔ∏è)</em></p>

<p>If my sticker gets damaged over time, I could always switch to using one of the pre-cut strips in a horizontal line for a greater contrast. But I think the diamond shape looks better.</p>

<p>And we made it. Here‚Äôs the final (for now) result of my Smart Coast V3! ‚ú®</p>

<p><img src="/assets/img/2025/02/smart_coaster_v3_front.jpg" alt="A fully assembled Smart Coaster made from black walnut and a hidden time-of-flight sensor" /><em>The final Smart Coaster V3 made from black walnut and a hidden time-of-flight sensor behind the black translucent sticker</em></p>
<h2 id="conclusion">
  
  
    Conclusion <a href="#conclusion" aria-hidden="true" tabindex="-1"><svg class='octicon' viewBox='0 0 16 16' version='1.1' width='16' height='32' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a>
  
  
</h2>
    

<p><img src="/assets/img/2025/02/smart_coaster_integration.jpg" alt="Smart Coaster V1 build with Home Assistant dashboard showing data in the back" /><em>Smart Coaster V1 with its data being displayed on my Home Assistant dashboard as a notification nudges me to drink water</em></p>

<p>I want to make sure I remember to drink water. I think I‚Äôve figured out a good approach that avoids any feedback loop from tracking and interacting with my phone. I think my solution reduces any additional cognitive load by only nudging me when appropriate and automatically dismissing all notifications when I pick up my water bottle.</p>

<p>From conception to completion, this project only took 2 days‚Äîa record for me. üèÉ</p>

<p>The final result is a smart coaster that is delicately reminding me to drink water and staying out of my way if I drink water naturally.</p>

<p>All of this to say, <strong>my temporary prototype solution is good enough to be permanent¬π</strong>. ü•§üññ</p>

<p>¬πUntil I decided to build a better looking one months later. üòÖ</p>

  <div class="line-separator"></div>

  <!-- POST NAVIGATION -->
<div class="post-nav">
  
    <a class="post-nav-link" href="/blog/2024/09/soo-machine-and-auto-ai-amplified-legacy/">
    <div class="link-text previous">&laquo;&nbsp;Soo Machine & Auto: Unearthing a Lost Legacy, Amplified by AI</div>
    
      <img class="link-image" src="/assets/img/2024/09/soo_machine_showroom.png" alt="Previous Article">
    
    </a>
  
  
    <a class="post-nav-link" href="/blog/2025/04/automating-pest-control/">
    <div class="link-text next">Automating Attic Pest Control&nbsp;&raquo;</div>
    
      <img class="link-image" src="/assets/img/2025/04/mousetrap.jpg" alt="Next Article">
    
    </a>
  
</div>

</article>


    
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'kyleniewiada'; // required: replace example with your forum shortname
  var disqus_identifier = "/blog/2025/02/building-my-smart-coaster/";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </main>
  <!-- start footer -->
<footer class="content">
  <div class="flex-list">
  <ul>
  
    <li>
      <a href="https://www.linkedin.com/in/kyleniewiada/" >LinkedIn</a>
    </li>
  
    <li>
      <a href="https://github.com/aav7fl" >GitHub</a>
    </li>
  
    <li>
      <a href="https://bsky.app/profile/crypticcitrus.bsky.social" >Bluesky</a>
    </li>
  
    <li>
      <a href="https://www.youtube.com/user/KyleNiewiada" >YouTube</a>
    </li>
  
    <li>
      <a href="https://kyleniewiada.bandcamp.com/" rel='nofollow'>BandCamp</a>
    </li>
  
    <li>
      <a href="/sitemap/" >Sitemap</a>
    </li>
  
  </ul>
</div>

</footer>
<!-- start noncritical style -->
<link rel="preload" href="/assets/css/noncritical.css" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/assets/css/noncritical.css"></noscript>
<script>
  /*loadCss*/
  !function(w){"use strict";var loadCSS=function(href,before,media){function ready(cb){return doc.body?cb():void setTimeout(function(){ready(cb)})}function loadCB(){ss.addEventListener&&ss.removeEventListener("load",loadCB),ss.media=media||"all"}var ref,doc=w.document,ss=doc.createElement("link");if(before)ref=before;else{var refs=(doc.body||doc.getElementsByTagName("head")[0]).childNodes;ref=refs[refs.length-1]}var sheets=doc.styleSheets;ss.rel="stylesheet",ss.href=href,ss.media="only x",ready(function(){ref.parentNode.insertBefore(ss,before?ref:ref.nextSibling)});var onloadcssdefined=function(cb){for(var resolvedHref=ss.href,i=sheets.length;i--;)if(sheets[i].href===resolvedHref)return cb();setTimeout(function(){onloadcssdefined(cb)})};return ss.addEventListener&&ss.addEventListener("load",loadCB),ss.onloadcssdefined=onloadcssdefined,onloadcssdefined(loadCB),ss};"undefined"!=typeof exports?exports.loadCSS=loadCSS:w.loadCSS=loadCSS}("undefined"!=typeof global?global:this);

  /*link[rel=preload] polyfill*/
  !function(w){if(w.loadCSS){var rp=loadCSS.relpreload={};if(rp.support=function(){try{return w.document.createElement("link").relList.supports("preload")}catch(e){return!1}},rp.poly=function(){for(var links=w.document.getElementsByTagName("link"),i=0;i<links.length;i++){var link=links[i];"preload"===link.rel&&"style"===link.getAttribute("as")&&(w.loadCSS(link.href,link),link.rel=null)}},!rp.support()){rp.poly();var run=w.setInterval(rp.poly,300);w.addEventListener&&w.addEventListener("load",function(){w.clearInterval(run)}),w.attachEvent&&w.attachEvent("onload",function(){w.clearInterval(run)})}}}(this);
</script>
<!-- end noncritical style -->
<!-- end footer -->

  </body>
</html>
