<!doctype html>
<html amp lang="en">



  <meta charset="utf-8">
  <title>Automating Attic Pest Control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#3d256d">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#3d256d">

  <!-- Contain all special checks needed on AMP pages. Attempt to consolidate checks. -->


  
  <!-- Extract extra <title> tag. -->
  
  
  
  

  
  
  
  

  
    <!-- Assumes AmpDir is always first instance in page.url based on how amp-jekyll builds it -->
    
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->

<meta name="generator" content="Jekyll v4.4.1">

<meta name="author" content="Kyle Niewiada">
<meta property="og:locale" content="en_US">
<meta name="description" content="Automating mousetrap notifications for hard-to-reach areas (like my attic) that I don’t want to check daily.">
<meta property="og:description" content="Automating mousetrap notifications for hard-to-reach areas (like my attic) that I don’t want to check daily.">
<link rel="canonical" href="/blog/2025/04/automating-pest-control/">
<meta property="og:url" content="/blog/2025/04/automating-pest-control/">
<meta property="og:site_name" content="Kyle Niewiada’s Website">
<meta property="og:image" content="https://www.kyleniewiada.org/assets/img/2025/04/mousetrap.jpg">
<meta property="og:image:height" content="600">
<meta property="og:image:width" content="800">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2025-04-13T22:22:00-04:00">
<meta name="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="https://www.kyleniewiada.org/assets/img/2025/04/mousetrap.jpg">
<meta property="twitter:title" content="Automating Attic Pest Control">
<meta name="twitter:site" content="@CrypticCitrus">
<meta name="twitter:creator" content="@CrypticCitrus">
<meta property="fb:app_id" content="137961485759">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kyle Niewiada"},"dateModified":"2025-04-13T22:22:00-04:00","datePublished":"2025-04-13T22:22:00-04:00","description":"Automating mousetrap notifications for hard-to-reach areas (like my attic) that I don’t want to check daily.","headline":"Automating Attic Pest Control","image":{"height":600,"width":800,"url":"https://www.kyleniewiada.org/assets/img/2025/04/mousetrap.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"/blog/2025/04/automating-pest-control/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.kyleniewiada.org/assets/img/logo.png"},"name":"Kyle Niewiada"},"url":"/blog/2025/04/automating-pest-control/"}</script>
<!-- End Jekyll SEO tag -->

  



  <style amp-custom>
  
  @font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url("/assets/fonts/open-sans-v17-latin-300.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-300.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url("/assets/fonts/open-sans-v17-latin-regular.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-regular.woff") format("woff")}@font-face{font-family:"Open Sans";font-display:swap;font-style:normal;font-weight:600;src:local("Open Sans Semibold"),local("OpenSans-Semibold"),url("/assets/fonts/open-sans-v17-latin-600.woff2") format("woff2"),url("/assets/fonts/open-sans-v17-latin-600.woff") format("woff")}.page-title{text-align:left;font-size:200%;line-height:1.2;font-weight:normal}@media(min-width: 600px){.page-title{font-size:250%}}@media(min-width: 1000px){.page-title{font-size:300%}}.meta{color:dimgray;font-weight:300;font-size:120%}@media(min-width: 600px){.meta{font-size:130%}}@media(min-width: 1000px){.meta{font-size:140%}}.sub-meta{color:dimgray;font-weight:300;font-size:100%}@media(min-width: 600px){.sub-meta{font-size:110%}}@media(min-width: 1000px){.sub-meta{font-size:120%}}a.meta{text-align:center;display:block}.title-meta{overflow:auto;color:dimgray;font-size:100%}h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6{margin:0 0 .5rem;font-weight:600}a{color:#3d256d}a:hover{color:hsl(260,49.3150684932%,13.6274509804%)}code,pre{border-radius:.2em;background-color:#f5f5f5;border:.1em solid #d3d3d3}code{padding:2px 4px;color:#902f74}pre{padding:16px;overflow-y:hidden}pre code{color:inherit;background-color:rgba(0,0,0,0);padding:0;border:0}h1 .octicon,h2 .octicon,h3 .octicon,h4 .octicon,h5 .octicon,h6 .octicon{visibility:hidden}h1:hover .octicon,h2:hover .octicon,h3:hover .octicon,h4:hover .octicon,h5:hover .octicon,h6:hover .octicon{visibility:visible}.octicon{fill:currentColor;padding:0;vertical-align:middle}body{margin:0}body,p,li,ul,input,textarea{font-size:1em;line-height:1.58;color:#111;font-family:"Open Sans",Helvetica,Arial,sans-serif;overflow-wrap:break-word}img,video,audio,iframe,object{max-width:100%}main{display:block}.line-separator{height:2px;background:#d3d3d3;margin-top:16px;margin-bottom:16px}.clearfix:after{content:"";display:block;clear:both}.content{max-width:700px;margin-right:auto;margin-left:auto;padding:0 16px}.content img{display:block;margin-left:auto;margin-right:auto}.content video{display:block;margin-left:auto;margin-right:auto}.no-list{list-style:none;padding-left:0;margin-left:0}.left{float:left}.right{float:right}.post-list li{margin-bottom:4em;position:relative}.post-list li:before{content:"";position:absolute;bottom:-2em;left:0;background:hsl(0,0%,90%);height:2px;width:60px}.post-list li a{text-decoration:none}.post-list li a:hover{text-decoration:underline}.post-list li .date{color:dimgray;font-size:.8em}.header-amp{background:#262626;margin-bottom:16px;padding:16px;text-align:center;font-size:1.4em;font-weight:normal}.header-amp a,.header-amp a:hover{color:#fff;text-decoration:none;overflow:visible}

  

  
  footer{padding:16px 0}footer .flex-list{position:relative;margin:1em;overflow:hidden;border-top:1px solid #d3d3d3}footer .flex-list ul{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;margin-left:-1px;padding:0}footer .flex-list li{list-style:none;flex-grow:1;flex-basis:auto;margin:.25em 0;padding:0 1em;text-align:center;border-left:1px solid #ccc;background-color:#fff}@media(min-width: 600px){footer .flex-list li{font-size:110%}}footer a{text-decoration:none}footer a:hover{background:#3d256d;color:#fff}article img+em,article amp-img+em,article video+em{text-align:center;font-size:.9em;font-style:italic;color:rgb(93.5,93.5,93.5);display:block}article img+p,article amp-img+p{margin-bottom:2em}blockquote{background:#ffa;border-left:10px solid #dc0;margin:1.5em 10px;padding:.5em 10px}.post-nav{display:flex;flex-direction:column}.post-nav .post-nav-link{height:6em;margin:.1em;overflow:hidden;position:relative}.post-nav .post-nav-link .link-text{z-index:1;position:absolute;height:100%;width:100%;box-sizing:border-box;padding:.5em;font-weight:bold;color:#fff;background:rgba(0,0,0,.6)}.post-nav .post-nav-link .previous{text-align:left}.post-nav .post-nav-link .next{text-align:right}.post-nav .post-nav-link .link-image{position:absolute;filter:blur(1px);transition:all .35s ease-in-out;top:50%;transform:translateY(-50%);width:auto;height:auto;min-width:100%;min-height:100%}.post-nav .post-nav-link:hover img{transform:translateY(-50%) scale(1.2)}@media all and (min-width: 600px){.post-nav{flex-direction:row}.post-nav .post-nav-link{flex-basis:0;flex-grow:1}}.button-outline{line-height:1.2em;padding:.5em 1.5em;border-radius:4px;text-decoration:none;cursor:pointer}.button-outline{background-color:rgba(0,0,0,0);border:3px solid #3d256d;color:#3d256d}.button-outline:hover{background-color:#3d256d;color:#fff}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:teal}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:teal}.highlight .vg{color:teal}.highlight .vi{color:teal}.highlight .il{color:#099}details:not([open]) summary{border-radius:5px}details[open]{border-color:#bce5ff;border-bottom-style:solid;border-left-style:solid;border-right-style:solid}details[open] p{margin-left:16px;margin-right:16px}details[open] summary::after{transform:rotate(-180deg)}details{margin-top:16px;margin-bottom:16px}details summary{background-color:#bce5ff;list-style:none;color:#111;padding:16px;display:flex;justify-content:space-between;align-items:center}details summary::after{content:"";width:0;height:0;border-top:10px solid #111;border-inline:7px solid rgba(0,0,0,0);transition:.2s}details summary::-webkit-details-marker{display:none}details div:first-child{border-radius:0 0 5px 5px;border:.2em solid #e5e5e5}details pre:first-child{margin:0px;border-radius:0 0 .2em .2em}
  </style>

  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  
  



<body>
 <!-- https://github.com/analytics-debugger/google-analytics-4-for-amp -->
<amp-analytics type="googleanalytics" config="https://www.kyleniewiada.org/assets/ga4.json" data-credentials="include">
  <script type="application/json">
  {
      "vars": {
                  "GA4_MEASUREMENT_ID": "G-ZP46JK222K",
                  "GA4_ENDPOINT_HOSTNAME": "www.google-analytics.com",
                  "DEFAULT_PAGEVIEW_ENABLED": true,    
                  "GOOGLE_CONSENT_ENABLED": false,
                  "WEBVITALS_TRACKING": false,
                  "PERFORMANCE_TIMING_TRACKING": false,
                  "SEND_DOUBLECLICK_BEACON": false
      }
  }
  </script>
</amp-analytics>



<!-- start header -->
<header>
  <h1 class="header-amp">
    <a href="/">Kyle Niewiada</a>
  </h1>
</header>
<!-- end header -->



<main class="content">
  <article>
    <div class="post_info">
      <h1 class="page-title">Automating Attic Pest Control</h1>

      <h2 class="meta">Kyle Niewiada

      <h3 class="meta">April 13, 2025 | 
        
          11 Minute Read
        
      </h3>

      
      <h4 class="sub-meta">Updated on May 05, 2025</h4>
        

      
      <div class="featuredImage">
        <amp-img src="/assets/img/2025/04/mousetrap.jpg" alt="Dome Z-Wave Smart Electronic Mouse Trap unboxed" width="800" height="600" layout="responsive"><noscript><img src="/assets/img/2025/04/mousetrap.jpg" alt="Dome Z-Wave Smart Electronic Mouse Trap unboxed" width="800" height="600"></noscript></amp-img>
      </div>
      

      <div class="line-separator"></div>

    </h2>
</div>

    <p>Dealing with pests is an unwelcome reality for many homeowners. My recent encounter wasn’t just about the pests themselves but also about finding a practical solution that fit my challenging situation. This post details my journey into automated pest monitoring in a <em>hard-to-reach location</em>.</p>

<p>It started back in February 2024. For the first time, I heard the unmistakable sound of tiny claws scurrying above our ceiling. Even the cats noticed, sitting perfectly still, staring intently upwards. It was 2 AM, my newborn was asleep in my arms, and free time felt like a distant memory. The thought of regularly climbing into the attic to check traps was immediately daunting. That was the moment I started recalling something I never thought I’d want: a smart mousetrap.</p>

<blockquote>
  <p><strong>Note:</strong> The solution I pick in my post isn’t available for purchase anymore. Instead, just glue a door sensor to a snap trap or live trap door. This directly addresses the “I don’t want to climb into the attic daily” problem. 🚫🪜</p>
</blockquote>

<h2 id="considering-the-options">Considering the Options</h2>

<p>When dealing with rodents, the primary choice is often between live traps (designed to capture the animal unharmed for release) and kill traps (designed for quick dispatch). Both approaches have proponents, and the best choice often depends on the specific situation and personal philosophy.</p>

<p>Live trapping appeals to many due to its potential for humane handling, avoiding the need to kill the animal. However, it comes with its own challenges, including finding suitable locations for release far enough away to prevent reentry.</p>

<p>Kill traps are chosen for reasons such as perceived faster resolution and avoiding the complexities of release. Within kill traps, methods vary—from traditional snap traps to glue traps (often considered inhumane due to prolonged suffering) and electric traps. For my specific situation, I needed a remotely monitored solution for an inaccessible attic space. I leaned towards an electric kill trap. The key driver was how easily I could permanently integrate it within my smart home.</p>

<p><amp-img src="/assets/img/2025/04/attic.jpg" alt="A dark attic with freshly added blow-in insulation" width="800" height="600" layout="responsive"><noscript><img src="/assets/img/2025/04/attic.jpg" alt="A dark attic with freshly added blow-in insulation" width="800" height="600"></noscript></amp-img><em>My dark, endless attic that I definitely don’t want to climb through daily.</em></p>

<h3 id="my-specific-situation">My Specific Situation</h3>

<p>My situation demanded a very specific type of solution. Because the trap would be in the attic, that would mean it was only accessible via a ladder in the garage. Regular checks were highly impractical. Leaving a dispatched mouse unchecked, especially during warmer months, would not be a good idea. ♨️</p>

<p>Many years ago, I had heard of a smart mousetrap by a company called Dome. At the time, I scoffed at the idea of an <strong>$80 mousetrap</strong>. But that knowledge had somehow lived rent-free in my head ever since. But with my time hardly available, it didn’t seem so absurd. I could purchase a pre-built solution, add it to my Z-Wave network, and be good to go.</p>

<h3 id="elexa-dome-z-wave-mousetrap-mouser">Elexa Dome Z-Wave Mousetrap (Mouser)</h3>

<p><amp-img src="/assets/img/2025/04/mousetrap.jpg" alt="Dome Z-Wave Smart Electronic Mouse Trap unboxed" width="800" height="600" layout="responsive"><noscript><img src="/assets/img/2025/04/mousetrap.jpg" alt="Dome Z-Wave Smart Electronic Mouse Trap unboxed" width="800" height="600"></noscript></amp-img><em>The Dome Smart Electronic Mouse Trap unboxed in real life.</em></p>

<p>The model I landed on was the “Elexa Dome Z-Wave Smart Electronic Mouse Trap”, previously called the “Dome Mouser”.</p>

<p><a href="https://products.z-wavealliance.org/z-wave-product/dome-mouser/">Z-Wave Alliance &gt; Dome Mouser</a></p>

<p>I <em>would love</em> to leave a link on where to purchase it, but I took so long to finish writing this post that it has been unavailable to purchase anywhere for over a year.</p>

<p>However, when I started this project, Home Depot was selling these for only <strong>$40</strong>. This was <em>half</em> of the original <strong>$80</strong> MSRP. Since it looked like stock was getting cleared out forever, I uh… bought 3. 🙈💸</p>

<p>Sometimes a solution is too perfect for your specific scenario to pass up the opportunity on.</p>

<p>What made this Z-Wave trap appealing <em>at the time</em> compared to some Wi-Fi, Bluetooth, or DIY solutions?</p>

<ul>
  <li>
<strong>Ready to Use:</strong> It was the easiest option for sleep-deprived “dad brain” me. I could just turn it on, add it to my Z-Wave network, and then write some light Home Assistant automations for the notifications.</li>
  <li>
<strong>Battery Life:</strong> Z-Wave’s low power usage was key for potentially years of operation without needing attic access for battery changes.</li>
  <li>
<strong>Network Reliability:</strong> It leverages my existing robust Z-Wave mesh network. I confirmed it has connectivity through at least 7 neighboring devices, ensuring reliable signal transmission out of the attic.</li>
  <li>
<strong>Configuration:</strong> The 2-way communication allowed for deeper integration and control. I could monitor battery levels remotely and even potentially adjust parameters like:
    <ul>
      <li>Electric discharge mode (pulse/constant) and duration.</li>
      <li>Check-in intervals for configuration updates (it always reports status changes like activations instantly).</li>
    </ul>
  </li>
  <li>
<strong>Offline Check-in:</strong> I also implemented a backup automation in Home Assistant to notify me if the trap <em>failed</em> to check in for 48 hours, alerting me to potential connectivity or battery issues (code included further down).</li>
</ul>

<p>It represented a neat, albeit niche, technological solution perfectly tailored to solve my specific problem: reliable, automated monitoring in an inaccessible space.</p>

<p>After navigating some significant shipping delays from Home Depot, they finally arrived <em>45 days</em> later. I swear, these were definitely getting drop-shipped from a partner who had most certainly lost them in the back of their warehouse.</p>

<h2 id="setup">Setup</h2>

<p>Setting it up was straightforward within my Z-Wave network. I put the device in pairing mode, connected it with <a href="https://github.com/zwave-js/zwave-js-ui">Z-Wave JS UI</a>, and allowed Home Assistant to populate the new entities in its dashboard.</p>

<p>I armed the device, threw in a chunk of copper wire, and watched the sparks fly. My caveman test showed that it was working and the tripped status was updating correctly in Home Assistant.</p>

<p>I added some fresh bait, rearmed the device, and put it in my attic.</p>

<p>Time to proceed with the customizations.</p>

<p><amp-img src="/assets/img/2025/04/attic-mousetrap-node.png" alt="Z-Wave JS UI showing the detailed connection information of a Dome Z-Wave Mouser" width="800" height="890" layout="responsive"><noscript><img src="/assets/img/2025/04/attic-mousetrap-node.png" alt="Z-Wave JS UI showing the detailed connection information of a Dome Z-Wave Mouser" width="800" height="890"></noscript></amp-img><em>Z-Wave JS UI showing the information for my attic mousetrap.</em></p>

<h2 id="home-assistant-configuration">Home Assistant Configuration</h2>

<p>I’m going to go pretty light on the <em>exacts</em> here because I doubt anyone else is ever going to buy the Z-Wave Dome Mouser again.. Instead, I’m going to try to keep this generic enough that anyone can apply these ideas to their own DIY mousetrap.</p>

<p>Here are the lists of helper sensors and automations that I use to track the status of the trap, monitor the healthchecks, and notify me when it activates.</p>

<h3 id="helper-sensors">Helper Sensors</h3>

<h4 id="last-seen-helper">Last Seen Helper</h4>

<p>A simple helper sensor to track the last time the trap was seen. This uses the <code class="language-plaintext highlighter-rouge">*_last_seen</code> sensor created automatically by <code class="language-plaintext highlighter-rouge">Z-Wave JS UI</code>, but makes a few tweaks. That’s because when Home Assistant starts up or Z-Wave JS UI restarts, the state for their exposed sensor will be <code class="language-plaintext highlighter-rouge">unknown</code> or <code class="language-plaintext highlighter-rouge">unavailable</code> until updated (which may take hours on a battery-operated device). I want my value to persist over a reboot, so I create a helper sensor that stores the last time we <em>knew</em> it was updated.</p>

<p>It’s true that the device could technically update when we’re rebooting, and we’d miss it. But that’s why I don’t consider it “lost” until we miss any updates for 24+ hours—which should cover 2 missed check-in events.</p>

<ul>
  <li>Used for: <a href="#healthcheck-notifications">Healthcheck Notifications</a>
</li>
</ul>

<blockquote>
  <p>At the time of writing, this is the only <code class="language-plaintext highlighter-rouge">sensor</code> that can’t be created in the UI. I had to create this in YAML. I hope that changes in the future.</p>
</blockquote>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">template</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">trigger</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">platform</span><span class="pi">:</span> <span class="s">state</span>
      <span class="na">entity_id</span><span class="pi">:</span> <span class="s">sensor.attic_mousetrap_last_seen</span>
      <span class="na">not_to</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">unknown</span>
        <span class="pi">-</span> <span class="s">unavailable</span>
    <span class="na">sensor</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Attic mousetrap Last Seen</span>
      <span class="na">unique_id</span><span class="pi">:</span> <span class="s">attic_mousetrap_last_seen_helper</span>
      <span class="na">state</span><span class="pi">:</span> <span class="s1">'</span><span class="s">'</span>
      <span class="na">device_class</span><span class="pi">:</span> <span class="s">timestamp</span>
</code></pre></div></div>

<h4 id="healthcheck">Healthcheck</h4>

<p>This is the <code class="language-plaintext highlighter-rouge">template</code> code for a <code class="language-plaintext highlighter-rouge">binary sensor</code> that checks if the trap has been “seen” in the last 24 hours. This is useful for ensuring that the trap is still operational and connected to the network. If the trap hasn’t been seen recently, the <code class="language-plaintext highlighter-rouge">binary sensor</code> will return <code class="language-plaintext highlighter-rouge">off</code>.</p>

<ul>
  <li>Used for: <a href="#healthcheck-notifications">Healthcheck Notifications</a>
</li>
</ul>

<p>Create a new <a href="https://www.home-assistant.io/integrations/template/">template binary sensor</a> in the UI with the following template value. It takes our <code class="language-plaintext highlighter-rouge">*_last_seen_helper</code> from above and checks if it is greater than 24 hours ago. If it has been longer than 24 hours, it returns <code class="language-plaintext highlighter-rouge">off</code> signifying that the trap hasn’t been seen in a while.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{{</span> <span class="nv">(states('sensor.attic_mousetrap_last_seen_helper') | as_timestamp(0) | int) &gt; ((utcnow() - timedelta(hours=24)) | as_timestamp | int)</span> <span class="pi">}}</span>
</code></pre></div></div>

<h4 id="counters">Counters</h4>

<p>Want to know how many mice have been caught with this trap? How about how many have been <em>missed</em>? Want to break it down to know which trap is the most successful? Great!</p>

<p>First, create some <a href="https://www.home-assistant.io/integrations/counter/">helper counters</a>.</p>

<p>I use the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">counter.attic_mousetrap_catch_count</code></li>
  <li><code class="language-plaintext highlighter-rouge">counter.attic_mousetrap_miss_count</code></li>
</ul>

<p>Then create a new <code class="language-plaintext highlighter-rouge">template sensor</code> that does some math to calculate the success rate of the trap.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{</span><span class="err">%</span> <span class="nv">set catch_count = states('counter.attic_mousetrap_catch_count') | int %</span><span class="pi">}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">set miss_count = states('counter.attic_mousetrap_miss_count') | int %</span><span class="pi">}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">set total_count = catch_count + miss_count %</span><span class="pi">}</span>

<span class="pi">{</span><span class="err">%</span> <span class="nv">if total_count &gt; 0 %</span><span class="pi">}</span>
  <span class="pi">{{</span> <span class="nv">(catch_count / total_count * 100) | round(0)</span> <span class="pi">}}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">else %</span><span class="pi">}</span>
  <span class="s">0</span> 
<span class="pi">{</span><span class="err">%</span> <span class="nv">endif %</span><span class="pi">}</span>
</code></pre></div></div>

<p>That’s it.</p>

<h3 id="automations">Automations</h3>

<h4 id="healthcheck-notifications">Healthcheck Notifications</h4>

<p>This automation will notify you if the trap hasn’t been seen in the last 24 hours based on the state of the “Healthcheck” <code class="language-plaintext highlighter-rouge">template</code> <code class="language-plaintext highlighter-rouge">binary sensor</code> entity created above.</p>

<details>

  <summary>[Yaml] Healthcheck Automation</summary>

  <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">alias</span><span class="pi">:</span> <span class="s">Healthcheck for mousetrap (Attic)</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Send</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">notification</span><span class="nv"> </span><span class="s">if</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">mousetrap</span><span class="nv"> </span><span class="s">hasn't</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">seen</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">24</span><span class="nv"> </span><span class="s">hours."</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">single</span>
<span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">at</span><span class="pi">:</span> <span class="s2">"</span><span class="s">19:00:00"</span> <span class="c1"># I check at 7 PM every day as this is the most likely time I will be able to actually address a failed check in.</span>
    <span class="na">trigger</span><span class="pi">:</span> <span class="s">time</span>
<span class="na">conditions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">entity_id</span><span class="pi">:</span> <span class="s">binary_sensor.attic_mousetrap_healthcheck</span>
    <span class="na">state</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
    <span class="na">for</span><span class="pi">:</span>
      <span class="na">hours</span><span class="pi">:</span> <span class="m">26</span>
      <span class="na">minutes</span><span class="pi">:</span> <span class="m">0</span>
      <span class="na">seconds</span><span class="pi">:</span> <span class="m">0</span>
<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
      <span class="na">title</span><span class="pi">:</span> <span class="s">🐭🪤 Attic mousetrap unresponsive</span>
      <span class="na">message</span><span class="pi">:</span> <span class="s">The attic mousetrap hasn't been updated in a while. Please investigate.</span>
      <span class="na">data</span><span class="pi">:</span>
        <span class="na">notification_icon</span><span class="pi">:</span> <span class="s">mdi:rodent</span>
        <span class="na">group</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
        <span class="na">channel</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
    <span class="na">action</span><span class="pi">:</span> <span class="s">notify.family</span>
</code></pre></div>  </div>

</details>

<h4 id="triggered-notifications">Triggered Notifications</h4>

<p>Here is the automation that I use to send notifications when the mousetrap is triggered. This uses the <code class="language-plaintext highlighter-rouge">binary_sensor.attic_mousetrap_sensor_state_general_purpose</code> entity to determine if the trap has been triggered.</p>

<p>It also uses the <code class="language-plaintext highlighter-rouge">binary_sensor.attic_mousetrap_trap_armed</code> entity to determine if the trap has been re-armed after a catch. This is useful for clearing any remaining “mouse caught” notifications on all devices since it’s no longer actionable.</p>

<p>It uses the <code class="language-plaintext highlighter-rouge">counter.attic_mousetrap_catch_count</code> entity to increment the catch count when the trap is triggered.</p>

<p>Finally, it adds a notification action button (<code class="language-plaintext highlighter-rouge">ATTIC_MOUSETRAP_FALSE_ALARM</code>) to mark the catch as a false positive. It is tied to a separate automation below that decreases the catch count and increases the miss count.</p>

<details>

  <summary>[Yaml] Notify Attic Mousetrap Triggered Automation</summary>

  <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">alias</span><span class="pi">:</span> <span class="s">Notify attic mousetrap triggered</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Send</span><span class="nv"> </span><span class="s">notifications</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">mousetrap</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">triggered."</span>
<span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">entity_id</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">binary_sensor.attic_mousetrap_sensor_state_general_purpose</span>
    <span class="c1"># When the mousetrap is triggered, alert the family!</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">caught</span>
    <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>
  <span class="pi">-</span> <span class="na">entity_id</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">binary_sensor.attic_mousetrap_trap_armed</span>
    <span class="c1"># When the mousetrap is re-armed, we use this to clear any remaining notifications on all devices since it's no longer actionable.</span>
    <span class="na">id</span><span class="pi">:</span> <span class="s">armed</span>
    <span class="na">trigger</span><span class="pi">:</span> <span class="s">state</span>
    <span class="na">from</span><span class="pi">:</span> <span class="s2">"</span><span class="s">off"</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s2">"</span><span class="s">on"</span>
<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">choose</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">caught</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">parallel</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
                  <span class="na">title</span><span class="pi">:</span> <span class="s">🐭🪤 ZAP! Attic mousetrap triggered</span>
                  <span class="na">message</span><span class="pi">:</span> <span class="s">Oh no! The attic mousetrap has been triggered.</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">ttl</span><span class="pi">:</span> <span class="m">0</span>
                    <span class="na">priority</span><span class="pi">:</span> <span class="s">high</span>  
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">notification_icon</span><span class="pi">:</span> <span class="s">mdi:rodent</span>
                    <span class="na">group</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
                    <span class="na">channel</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
                    <span class="na">tag</span><span class="pi">:</span> <span class="s">mousetrap-alert-attic</span>
                    <span class="na">push</span><span class="pi">:</span>
                      <span class="na">interruption-level</span><span class="pi">:</span> <span class="s">time-sensitive</span>
                    <span class="na">actions</span><span class="pi">:</span>
                        <span class="c1"># Optional action button to mark the catch as a false positive. You should tie this to a separate automation to decrease the catch count and increase the miss count.</span>
                      <span class="pi">-</span> <span class="na">action</span><span class="pi">:</span> <span class="s">ATTIC_MOUSETRAP_FALSE_ALARM</span>
                        <span class="na">title</span><span class="pi">:</span> <span class="s">False Alarm</span>
                <span class="na">action</span><span class="pi">:</span> <span class="s">notify.family</span>
              <span class="pi">-</span> <span class="na">metadata</span><span class="pi">:</span> <span class="pi">{}</span>
                <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
                <span class="na">target</span><span class="pi">:</span>
                  <span class="na">entity_id</span><span class="pi">:</span> <span class="s">counter.attic_mousetrap_catch_count</span>
                <span class="na">action</span><span class="pi">:</span> <span class="s">counter.increment</span>
      <span class="pi">-</span> <span class="na">conditions</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">condition</span><span class="pi">:</span> <span class="s">trigger</span>
            <span class="na">id</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">armed</span>
        <span class="na">sequence</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
              <span class="na">message</span><span class="pi">:</span> <span class="s">clear_notification</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">group</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
                <span class="na">channel</span><span class="pi">:</span> <span class="s">mousetrap-alert</span>
                <span class="na">tag</span><span class="pi">:</span> <span class="s">mousetrap-alert-attic</span>
            <span class="na">action</span><span class="pi">:</span> <span class="s">notify.family</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">single</span>
</code></pre></div>  </div>

</details>

<p>Last, this is the automation that is triggered when the user marks the catch as a false alarm via the notification. It updates the counters accordingly.</p>

<details>

  <summary>[Yaml] Attic Mousetrap False Alarm Automation</summary>

  <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">alias</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Attic</span><span class="nv"> </span><span class="s">mousetrap</span><span class="nv"> </span><span class="s">false</span><span class="nv"> </span><span class="s">alarm"</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">When</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">attic</span><span class="nv"> </span><span class="s">mousetrap</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">triggered,</span><span class="nv"> </span><span class="s">but</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">user</span><span class="nv"> </span><span class="s">marks</span><span class="nv"> </span><span class="s">it</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">false</span><span class="nv"> </span><span class="s">alarm</span><span class="nv"> </span><span class="s">via</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">notification,</span><span class="nv"> </span><span class="s">we</span><span class="nv"> </span><span class="s">need</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">counters."</span>
<span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">event_type</span><span class="pi">:</span> <span class="s">mobile_app_notification_action</span>
    <span class="na">event_data</span><span class="pi">:</span>
      <span class="na">action</span><span class="pi">:</span> <span class="s">ATTIC_MOUSETRAP_FALSE_ALARM</span>
    <span class="na">trigger</span><span class="pi">:</span> <span class="s">event</span>
<span class="na">conditions</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">parallel</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">counter.attic_mousetrap_miss_count</span>
        <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
        <span class="na">action</span><span class="pi">:</span> <span class="s">counter.increment</span>
      <span class="pi">-</span> <span class="na">target</span><span class="pi">:</span>
          <span class="na">entity_id</span><span class="pi">:</span> <span class="s">counter.attic_mousetrap_catch_count</span>
        <span class="na">data</span><span class="pi">:</span> <span class="pi">{}</span>
        <span class="na">action</span><span class="pi">:</span> <span class="s">counter.decrement</span>
<span class="na">mode</span><span class="pi">:</span> <span class="s">single</span>
</code></pre></div>  </div>

</details>

<h2 id="tracking-effectiveness">Tracking Effectiveness</h2>

<p>Now that we’re all configured, how did everything end up working?</p>

<p>To monitor the situation, I set up a simple counter in my smart home dashboard tracking the activations for each trap (configured above). This helps me understand the extent of the issue and verify the effectiveness of the placements over time.</p>

<p><amp-img src="/assets/img/2025/04/mousetrap-dashboard.png" alt="Home Assistant dashboard showing the failure and success rates of the Z-Wave Dome Mouser" width="800" height="516" layout="responsive"><noscript><img src="/assets/img/2025/04/mousetrap-dashboard.png" alt="Home Assistant dashboard showing the failure and success rates of the Z-Wave Dome Mouser" width="800" height="516"></noscript></amp-img><em>Mousetrap failure and success rates.</em></p>

<p>So it did… not that great, honestly. 📉</p>

<p>Initially, it appears like mice were not getting caught but still triggering the trap. Later, I theorized that some of the mice were so small that they were shot out of the trap from the shock. But they’d always return the next day.. so.. I had another shot?</p>

<p>My most shameful realization with this data is that I could <em>almost always</em> succeed by catching the mouse in a <em>second</em> trap opposing the opening of the first one. ☄️</p>

<p>But that theory has been unproven. Since I implemented the “catch trap” idea in the attic, I haven’t seen any more mice beyond the last catch. Which is a good problem! That means I <em>might</em> have located and sealed all remaining entry points.</p>

<p>If I do start getting more, that means I need to keep scouting on how they’re getting in. 🔭</p>

<h2 id="what-are-we-even-doing-here">What Are We Even Doing Here?</h2>

<p>Which brings us back to the main point. What are the mousetraps even doing anymore if nothing is getting caught?</p>

<p>They’re a fallback.</p>

<p>If the mousetrap gets triggered, they are letting me know I’ve failed to locate some kind of entry point into my attic. I need to go back, identify a new possible entry point, and seal it up.</p>

<p>Only then will clearing out the attic actually solve anything.</p>

<h2 id="prevention-first-stop-them-before-you-need-traps">Prevention First: Stop Them Before You Need Traps</h2>

<p>While automated trapping provides a solution once pests are inside, the ideal goal is <strong>always prevention</strong>. Trapping should be a secondary measure after addressing how they got in. In my case, whenever I find a mouse, my first step is to <strong>always address any potential entry points</strong> to prevent this from happening again.</p>

<h2 id="alternative-solution-diy-smart-trap">Alternative Solution: DIY Smart Trap</h2>

<p>Just taking a quick sidestep here. You don’t <em>need</em> a fully featured Z-Wave smart mouse trap. Also, you can’t really find the Dome Z-Wave Mouser anywhere anymore. I went that route because I had zero free time to spend after the birth of our new child.</p>

<p>With just a <em>little</em> bit of DIY effort, you can glue any door sensor to a standard snap trap or live trap. Then you’ll know when the device has been triggered so you can attend to it.</p>

<p>This achieves the primary goal (remote notification) using readily available and often cheaper components. While it doesn’t offer the configuration depth of the specialized trap, it directly addresses the “I don’t want to climb into the attic daily” problem. 🚫🪜</p>

<h2 id="conclusion">Conclusion</h2>

<p>While the specific Z-Wave device I used might be a relic of the near past, the underlying principle of using smart home tech to monitor and manage inconvenient tasks remains highly relevant. Whether it’s a specialized device or a DIY sensor combination, automating trap notifications for hard-to-reach areas provides peace of mind and makes dealing with pests significantly more manageable.</p>


  </article>
</main>


<a href="/blog/2025/04/automating-pest-control/" class="meta center">Comments are available on the full webpage.</a>


<!-- start footer -->
<footer class="content">
  <div class="flex-list">
  <ul>
  
    <li>
      <a href="https://www.linkedin.com/in/kyleniewiada/">LinkedIn</a>
    </li>
  
    <li>
      <a href="https://github.com/aav7fl">GitHub</a>
    </li>
  
    <li>
      <a href="https://bsky.app/profile/crypticcitrus.bsky.social">Bluesky</a>
    </li>
  
    <li>
      <a href="https://www.youtube.com/user/KyleNiewiada">YouTube</a>
    </li>
  
    <li>
      <a href="https://kyleniewiada.bandcamp.com/" rel="nofollow">BandCamp</a>
    </li>
  
    <li>
      <a href="/sitemap/">Sitemap</a>
    </li>
  
  </ul>
</div>

</footer>
<!-- end footer -->


</body>

</html>
